<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Bigg Boss 9 Telugu - Vote for your favorite contestants, view live feeds, and join the discussion">
  <title>Bigg Boss 9 Telugu - Vote &amp; Discuss</title>

  <!-- No external Supabase library needed - using native fetch API -->

  <style>
    /* ============================================
   DESIGN SYSTEM - CSS Variables
   ============================================ */
    :root {
      /* Primitive Color Tokens */
      --color-white: rgba(255, 255, 255, 1);
      --color-black: rgba(0, 0, 0, 1);
      --color-cream-50: rgba(252, 252, 249, 1);
      --color-cream-100: rgba(255, 255, 253, 1);
      --color-gray-200: rgba(245, 245, 245, 1);
      --color-gray-300: rgba(167, 169, 169, 1);
      --color-gray-400: rgba(119, 124, 124, 1);
      --color-slate-500: rgba(98, 108, 113, 1);
      --color-brown-600: rgba(94, 82, 64, 1);
      --color-charcoal-700: rgba(31, 33, 33, 1);
      --color-charcoal-800: rgba(38, 40, 40, 1);
      --color-slate-900: rgba(19, 52, 59, 1);
      --color-teal-300: rgba(50, 184, 198, 1);
      --color-teal-400: rgba(45, 166, 178, 1);
      --color-teal-500: rgba(33, 128, 141, 1);
      --color-teal-600: rgba(29, 116, 128, 1);
      --color-teal-700: rgba(26, 104, 115, 1);
      --color-teal-800: rgba(41, 150, 161, 1);
      --color-red-400: rgba(255, 84, 89, 1);
      --color-red-500: rgba(192, 21, 47, 1);
      --color-orange-400: rgba(230, 129, 97, 1);
      --color-orange-500: rgba(168, 75, 47, 1);

      /* RGB versions for opacity control */
      --color-brown-600-rgb: 94, 82, 64;
      --color-teal-500-rgb: 33, 128, 141;
      --color-slate-900-rgb: 19, 52, 59;
      --color-slate-500-rgb: 98, 108, 113;
      --color-red-500-rgb: 192, 21, 47;
      --color-red-400-rgb: 255, 84, 89;
      --color-orange-500-rgb: 168, 75, 47;
      --color-orange-400-rgb: 230, 129, 97;

      /* Background color tokens (Light Mode) */
      --color-bg-1: rgba(59, 130, 246, 0.08);
      --color-bg-2: rgba(245, 158, 11, 0.08);
      --color-bg-3: rgba(34, 197, 94, 0.08);
      --color-bg-4: rgba(239, 68, 68, 0.08);
      --color-bg-5: rgba(147, 51, 234, 0.08);
      --color-bg-6: rgba(249, 115, 22, 0.08);
      --color-bg-7: rgba(236, 72, 153, 0.08);
      --color-bg-8: rgba(6, 182, 212, 0.08);

      /* Semantic Color Tokens (Light Mode) */
      --color-background: var(--color-cream-50);
      --color-surface: var(--color-cream-100);
      --color-text: var(--color-slate-900);
      --color-text-secondary: var(--color-slate-500);
      --color-primary: var(--color-teal-500);
      --color-primary-hover: var(--color-teal-600);
      --color-primary-active: var(--color-teal-700);
      --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
      --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
      --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
      --color-border: rgba(var(--color-brown-600-rgb), 0.2);
      --color-btn-primary-text: var(--color-cream-50);
      --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
      --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
      --color-error: var(--color-red-500);
      --color-success: var(--color-teal-500);
      --color-warning: var(--color-orange-500);
      --color-info: var(--color-slate-500);
      --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
      --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

      /* Common style patterns */
      --focus-ring: 0 0 0 3px var(--color-focus-ring);
      --focus-outline: 2px solid var(--color-primary);
      --status-bg-opacity: 0.15;
      --status-border-opacity: 0.25;

      /* RGB versions for opacity control */
      --color-success-rgb: 33, 128, 141;
      --color-error-rgb: 192, 21, 47;
      --color-warning-rgb: 168, 75, 47;
      --color-info-rgb: 98, 108, 113;

      /* Typography */
      --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
        BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
        Monaco, Consolas, monospace;
      --font-size-xs: 11px;
      --font-size-sm: 12px;
      --font-size-base: 14px;
      --font-size-md: 14px;
      --font-size-lg: 16px;
      --font-size-xl: 18px;
      --font-size-2xl: 20px;
      --font-size-3xl: 24px;
      --font-size-4xl: 30px;
      --font-weight-normal: 400;
      --font-weight-medium: 500;
      --font-weight-semibold: 550;
      --font-weight-bold: 600;
      --line-height-tight: 1.2;
      --line-height-normal: 1.5;
      --letter-spacing-tight: -0.01em;

      /* Spacing */
      --space-0: 0;
      --space-1: 1px;
      --space-2: 2px;
      --space-4: 4px;
      --space-6: 6px;
      --space-8: 8px;
      --space-10: 10px;
      --space-12: 12px;
      --space-16: 16px;
      --space-20: 20px;
      --space-24: 24px;
      --space-32: 32px;

      /* Border Radius */
      --radius-sm: 6px;
      --radius-base: 8px;
      --radius-md: 10px;
      --radius-lg: 12px;
      --radius-full: 9999px;

      /* Shadows */
      --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
        0 2px 4px -1px rgba(0, 0, 0, 0.02);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
        0 4px 6px -2px rgba(0, 0, 0, 0.02);
      --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
        inset 0 -1px 0 rgba(0, 0, 0, 0.03);

      /* Animation */
      --duration-fast: 150ms;
      --duration-normal: 250ms;
      --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

      /* Layout */
      --container-sm: 640px;
      --container-md: 768px;
      --container-lg: 1024px;
      --container-xl: 1280px;
    }

    /* Dark mode colors */
    @media (prefers-color-scheme: dark) {
      :root {
        --color-gray-400-rgb: 119, 124, 124;
        --color-teal-300-rgb: 50, 184, 198;
        --color-gray-300-rgb: 167, 169, 169;
        --color-gray-200-rgb: 245, 245, 245;

        --color-bg-1: rgba(29, 78, 216, 0.15);
        --color-bg-2: rgba(180, 83, 9, 0.15);
        --color-bg-3: rgba(21, 128, 61, 0.15);
        --color-bg-4: rgba(185, 28, 28, 0.15);
        --color-bg-5: rgba(107, 33, 168, 0.15);
        --color-bg-6: rgba(194, 65, 12, 0.15);
        --color-bg-7: rgba(190, 24, 93, 0.15);
        --color-bg-8: rgba(8, 145, 178, 0.15);

        --color-background: var(--color-charcoal-700);
        --color-surface: var(--color-charcoal-800);
        --color-text: var(--color-gray-200);
        --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
        --color-primary: var(--color-teal-300);
        --color-primary-hover: var(--color-teal-400);
        --color-primary-active: var(--color-teal-800);
        --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
        --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
        --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
        --color-border: rgba(var(--color-gray-400-rgb), 0.3);
        --color-error: var(--color-red-400);
        --color-success: var(--color-teal-300);
        --color-warning: var(--color-orange-400);
        --color-info: var(--color-gray-300);
        --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
        --color-btn-primary-text: var(--color-slate-900);
        --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
        --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
        --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
          inset 0 -1px 0 rgba(0, 0, 0, 0.15);
        --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
        --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

        --color-success-rgb: var(--color-teal-300-rgb);
        --color-error-rgb: var(--color-red-400-rgb);
        --color-warning-rgb: var(--color-orange-400-rgb);
        --color-info-rgb: var(--color-gray-300-rgb);
      }
    }

    @font-face {
      font-family: 'FKGroteskNeue';
      src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2') format('woff2');
    }

    /* ============================================
   BASE STYLES
   ============================================ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      font-size: var(--font-size-base);
      font-family: var(--font-family-base);
      line-height: var(--line-height-normal);
      color: var(--color-text);
      background-color: var(--color-background);
      -webkit-font-smoothing: antialiased;
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }

    /* ============================================
   TYPOGRAPHY
   ============================================ */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      margin: 0;
      font-weight: var(--font-weight-semibold);
      line-height: var(--line-height-tight);
      color: var(--color-text);
      letter-spacing: var(--letter-spacing-tight);
    }

    h1 {
      font-size: var(--font-size-4xl);
    }

    h2 {
      font-size: var(--font-size-3xl);
    }

    h3 {
      font-size: var(--font-size-2xl);
    }

    h4 {
      font-size: var(--font-size-xl);
    }

    h5 {
      font-size: var(--font-size-lg);
    }

    h6 {
      font-size: var(--font-size-md);
    }

    p {
      margin: 0 0 var(--space-16) 0;
    }

    a {
      color: var(--color-primary);
      text-decoration: none;
      transition: color var(--duration-fast) var(--ease-standard);
    }

    a:hover {
      color: var(--color-primary-hover);
    }

    /* ============================================
   LAYOUT & CONTAINERS
   ============================================ */
    .container {
      width: 100%;
      max-width: var(--container-xl);
      margin: 0 auto;
      padding: 0 var(--space-16);
    }

    /* ============================================
   HEADER
   ============================================ */
    .header {
      background: var(--color-surface);
      border-bottom: 1px solid var(--color-card-border);
      padding: var(--space-16) 0;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: var(--shadow-sm);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: var(--space-16);
    }

    .header-title {
      display: flex;
      align-items: center;
      gap: var(--space-12);
    }

    .header-title h1 {
      font-size: var(--font-size-3xl);
      background: linear-gradient(135deg, var(--color-primary), var(--color-teal-700));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: var(--space-12);
    }

    .connection-status {
      display: flex;
      align-items: center;
      gap: var(--space-8);
      padding: var(--space-6) var(--space-12);
      background: var(--color-secondary);
      border-radius: var(--radius-full);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
    }

    .status-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--color-error);
      animation: pulse 2s ease-in-out infinite;
    }

    .status-indicator.connected {
      background: var(--color-success);
      animation: none;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.4;
      }
    }

    /* ============================================
   BUTTONS
   ============================================ */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-6);
      padding: var(--space-8) var(--space-16);
      border-radius: var(--radius-base);
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-standard);
      border: none;
      text-decoration: none;
      min-height: 44px;
      white-space: nowrap;
    }

    .btn:focus-visible {
      outline: none;
      box-shadow: var(--focus-ring);
    }

    .btn--primary {
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
    }

    .btn--primary:hover {
      background: var(--color-primary-hover);
    }

    .btn--primary:active {
      background: var(--color-primary-active);
    }

    .btn--secondary {
      background: var(--color-secondary);
      color: var(--color-text);
    }

    .btn--secondary:hover {
      background: var(--color-secondary-hover);
    }

    .btn--outline {
      background: transparent;
      border: 1px solid var(--color-border);
      color: var(--color-text);
    }

    .btn--outline:hover {
      background: var(--color-secondary);
    }

    .btn--sm {
      padding: var(--space-4) var(--space-12);
      font-size: var(--font-size-sm);
      min-height: 36px;
    }

    .btn--icon {
      width: 44px;
      height: 44px;
      padding: 0;
      border-radius: var(--radius-base);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* ============================================
   FORMS
   ============================================ */
    .form-group {
      margin-bottom: var(--space-16);
    }

    .form-label {
      display: block;
      margin-bottom: var(--space-8);
      font-weight: var(--font-weight-medium);
      font-size: var(--font-size-sm);
      color: var(--color-text);
    }

    .form-control {
      display: block;
      width: 100%;
      padding: var(--space-8) var(--space-12);
      font-size: var(--font-size-md);
      line-height: 1.5;
      color: var(--color-text);
      background-color: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-base);
      transition: border-color var(--duration-fast) var(--ease-standard),
        box-shadow var(--duration-fast) var(--ease-standard);
    }

    .form-control:focus {
      border-color: var(--color-primary);
      outline: var(--focus-outline);
    }

    textarea.form-control {
      resize: vertical;
      min-height: 100px;
      font-family: var(--font-family-base);
    }

    .char-counter {
      display: flex;
      justify-content: flex-end;
      margin-top: var(--space-4);
      font-size: var(--font-size-xs);
      color: var(--color-text-secondary);
    }

    .char-counter.warning {
      color: var(--color-warning);
      font-weight: var(--font-weight-medium);
    }

    .char-counter.error {
      color: var(--color-error);
      font-weight: var(--font-weight-bold);
    }

    /* ============================================
   CARDS
   ============================================ */
    .card {
      background-color: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-card-border);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      transition: box-shadow var(--duration-normal) var(--ease-standard);
    }

    .card:hover {
      box-shadow: var(--shadow-md);
    }

    .card-header {
      padding: var(--space-16);
      border-bottom: 1px solid var(--color-card-border-inner);
    }

    .card-body {
      padding: var(--space-16);
    }

    .card-title {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-8);
    }

    .nominee-avatar {
      width: 96px;
      /* your avatar size */
      height: 96px;
      border-radius: 50%;
      overflow: hidden;
      /* hide overflow so it stays circular */
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #FF6B6B 0%, #FF8E72 100%);
    }

    .nominee-avatar-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      /* fill circle while preserving aspect ratio */
      display: block;
    }


    /* ============================================
   SECTIONS
   ============================================ */
    .main-content {
      padding: var(--space-32) 0;
    }

    .section {
      margin-bottom: var(--space-32);
    }

    .section-title {
      font-size: var(--font-size-2xl);
      margin-bottom: var(--space-16);
      display: flex;
      align-items: center;
      gap: var(--space-8);
    }

    .section-description {
      color: var(--color-text-secondary);
      margin-bottom: var(--space-24);
      font-size: var(--font-size-base);
    }

    /* ============================================
   POLL SECTION
   ============================================ */
    .section-header {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      margin-bottom: var(--space-20);
    }

    .section-header .section-title {
      margin-bottom: var(--space-8);
    }

    .subtitle {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      font-weight: var(--font-weight-normal);
    }

    .poll-container {
      background-color: var(--color-surface);
      border: 1px solid var(--color-card-border);
      border-radius: var(--radius-lg);
      padding: var(--space-24);
      box-shadow: var(--shadow-md);
      margin-bottom: var(--space-32);
    }

    .poll-instruction {
      color: var(--color-text-secondary);
      font-size: var(--font-size-sm);
      margin-bottom: var(--space-16);
      text-align: center;
    }

    .poll-embed {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }

    .poll-embed iframe {
      width: 100%;
      height: 500px;
      border: none;
      border-radius: var(--radius-base);
    }

    /* ============================================
   CONTESTANT FEEDS
   ============================================ */
    .feeds-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: var(--space-24);
    }

    .feed-card {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-card-border);
      overflow: hidden;
    }

    .feed-header {
      padding: var(--space-16);
      background: var(--color-bg-2);
      border-bottom: 1px solid var(--color-card-border-inner);
      display: flex;
      align-items: center;
      gap: var(--space-8);
    }

    .feed-header h3 {
      font-size: var(--font-size-lg);
    }

    .feed-content {
      min-height: 400px;
      background: var(--color-surface);
    }

    /* ============================================
   DISCUSSIONS SECTION
   ============================================ */
    .discussions-section {
      background: var(--color-bg-3);
      border-radius: var(--radius-lg);
      padding: var(--space-24);
      border: 1px solid var(--color-card-border);
    }

    .comment-form {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      padding: var(--space-20);
      border: 1px solid var(--color-card-border);
      margin-bottom: var(--space-24);
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-16);
    }

    .comments-list {
      display: flex;
      flex-direction: column;
      gap: var(--space-16);
    }

    .comment {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-card-border);
      padding: var(--space-16);
      transition: all var(--duration-normal) var(--ease-standard);
      animation: fadeIn var(--duration-normal) var(--ease-standard);
    }

    .comment-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: var(--space-12);
      flex-wrap: wrap;
      gap: var(--space-8);
    }

    .comment-author {
      display: flex;
      align-items: center;
      gap: var(--space-8);
    }

    .author-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: var(--font-weight-bold);
      font-size: var(--font-size-sm);
    }

    .author-info {
      display: flex;
      flex-direction: column;
    }

    .author-name {
      font-weight: var(--font-weight-semibold);
      font-size: var(--font-size-base);
      color: var(--color-text);
    }

    .comment-time {
      font-size: var(--font-size-xs);
      color: var(--color-text-secondary);
    }

    .comment-text {
      margin-bottom: var(--space-12);
      color: var(--color-text);
      line-height: 1.6;
      word-wrap: break-word;
    }

    .comment-actions {
      display: flex;
      align-items: center;
      gap: var(--space-8);
      flex-wrap: wrap;
    }

    .vote-buttons {
      display: flex;
      gap: var(--space-4);
      align-items: center;
    }

    .vote-btn {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      padding: var(--space-4) var(--space-8);
      background: var(--color-secondary);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-sm);
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-standard);
      min-height: 32px;
    }

    .vote-btn:hover {
      background: var(--color-secondary-hover);
    }

    .vote-btn.active {
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      border-color: var(--color-primary);
    }

    .vote-count {
      font-weight: var(--font-weight-medium);
    }

    .reply-btn {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      padding: var(--space-4) var(--space-12);
      background: transparent;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      font-size: var(--font-size-sm);
      color: var(--color-text);
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-standard);
      min-height: 32px;
    }

    .reply-btn:hover {
      background: var(--color-secondary);
    }

    /* ============================================
   REPLIES
   ============================================ */
    .replies {
      margin-top: var(--space-16);
      margin-left: var(--space-24);
      padding-left: var(--space-16);
      border-left: 2px solid var(--color-card-border);
      display: flex;
      flex-direction: column;
      gap: var(--space-12);
    }

    .reply {
      background: var(--color-bg-4);
      border-radius: var(--radius-base);
      padding: var(--space-12);
      border: 1px solid var(--color-card-border);
      animation: slideDown var(--duration-normal) var(--ease-standard);
    }

    .collapse-btn {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      padding: var(--space-4) var(--space-8);
      background: transparent;
      border: none;
      font-size: var(--font-size-xs);
      color: var(--color-primary);
      cursor: pointer;
      margin-top: var(--space-8);
      font-weight: var(--font-weight-medium);
    }

    .collapse-btn:hover {
      text-decoration: underline;
    }

    .reply-form {
      margin-top: var(--space-12);
      padding: var(--space-12);
      background: var(--color-surface);
      border-radius: var(--radius-base);
      border: 1px solid var(--color-card-border);
      animation: slideDown var(--duration-normal) var(--ease-standard);
    }

    .reply-form textarea {
      min-height: 80px;
    }

    /* ============================================
   MODAL
   ============================================ */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: var(--space-16);
      animation: fadeIn var(--duration-normal) var(--ease-standard);
    }

    .modal-overlay.hidden {
      display: none;
    }

    .modal {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: var(--shadow-lg);
      animation: modalSlideIn var(--duration-normal) var(--ease-standard);
    }

    .modal-header {
      padding: var(--space-20);
      border-bottom: 1px solid var(--color-card-border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title {
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-semibold);
    }

    .modal-close {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-base);
      border: none;
      background: var(--color-secondary);
      color: var(--color-text);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--font-size-xl);
      transition: all var(--duration-fast) var(--ease-standard);
    }

    .modal-close:hover {
      background: var(--color-secondary-hover);
    }

    .modal-body {
      padding: var(--space-20);
    }

    .instructions {
      background: var(--color-bg-5);
      padding: var(--space-16);
      border-radius: var(--radius-base);
      margin-bottom: var(--space-20);
      border: 1px solid var(--color-card-border);
    }

    .instructions h4 {
      font-size: var(--font-size-base);
      margin-bottom: var(--space-8);
    }

    .instructions ol {
      margin: var(--space-8) 0;
      padding-left: var(--space-20);
    }

    .instructions li {
      margin-bottom: var(--space-6);
      color: var(--color-text);
      font-size: var(--font-size-sm);
      line-height: 1.5;
    }

    .instructions code {
      background: var(--color-secondary);
      padding: var(--space-2) var(--space-6);
      border-radius: var(--radius-sm);
      font-family: var(--font-family-mono);
      font-size: var(--font-size-xs);
    }

    /* ============================================
   DEBUG PANEL
   ============================================ */
    .debug-panel {
      position: fixed;
      bottom: var(--space-16);
      right: var(--space-16);
      width: 350px;
      max-height: 400px;
      background: var(--color-surface);
      border: 1px solid var(--color-card-border);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      z-index: 999;
      display: flex;
      flex-direction: column;
      animation: slideUp var(--duration-normal) var(--ease-standard);
    }

    .debug-panel.hidden {
      display: none;
    }

    .debug-header {
      padding: var(--space-12);
      border-bottom: 1px solid var(--color-card-border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--color-bg-6);
    }

    .debug-title {
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-semibold);
    }

    .debug-close {
      width: 24px;
      height: 24px;
      border-radius: var(--radius-sm);
      border: none;
      background: var(--color-secondary);
      color: var(--color-text);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: var(--font-size-base);
    }

    .debug-logs {
      flex: 1;
      overflow-y: auto;
      padding: var(--space-12);
      font-family: var(--font-family-mono);
      font-size: var(--font-size-xs);
    }

    .debug-log {
      padding: var(--space-4) 0;
      border-bottom: 1px solid var(--color-card-border-inner);
      word-wrap: break-word;
    }

    .debug-log:last-child {
      border-bottom: none;
    }

    .debug-log.info {
      color: var(--color-info);
    }

    .debug-log.success {
      color: var(--color-success);
    }

    .debug-log.error {
      color: var(--color-error);
    }

    .debug-log.warning {
      color: var(--color-warning);
    }

    /* ============================================
   LOADING & EMPTY STATES
   ============================================ */
    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: var(--space-32);
      color: var(--color-text-secondary);
      font-size: var(--font-size-base);
    }

    .spinner {
      width: 24px;
      height: 24px;
      border: 3px solid var(--color-secondary);
      border-top-color: var(--color-primary);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      margin-right: var(--space-8);
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .empty-state {
      text-align: center;
      padding: var(--space-32);
      color: var(--color-text-secondary);
    }

    .empty-state-icon {
      font-size: var(--font-size-4xl);
      margin-bottom: var(--space-16);
    }

    .empty-state-title {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-8);
      color: var(--color-text);
    }

    .empty-state-text {
      font-size: var(--font-size-base);
    }

    /* ============================================
   ALERTS & MESSAGES
   ============================================ */
    .alert {
      padding: var(--space-12) var(--space-16);
      border-radius: var(--radius-base);
      margin-bottom: var(--space-16);
      display: flex;
      align-items: center;
      gap: var(--space-8);
      animation: slideDown var(--duration-normal) var(--ease-standard);
    }

    .alert-success {
      background: rgba(var(--color-success-rgb), 0.15);
      color: var(--color-success);
      border: 1px solid rgba(var(--color-success-rgb), 0.25);
    }

    .alert-error {
      background: rgba(var(--color-error-rgb), 0.15);
      color: var(--color-error);
      border: 1px solid rgba(var(--color-error-rgb), 0.25);
    }

    .alert-warning {
      background: rgba(var(--color-warning-rgb), 0.15);
      color: var(--color-warning);
      border: 1px solid rgba(var(--color-warning-rgb), 0.25);
    }

    .alert-info {
      background: rgba(var(--color-info-rgb), 0.15);
      color: var(--color-info);
      border: 1px solid rgba(var(--color-info-rgb), 0.25);
    }

    /* ============================================
   ANIMATIONS
   ============================================ */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: scale(0.95) translateY(-20px);
      }

      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    /* ============================================
   NAVBAR STYLING
   ============================================ */
    .navbar {
      background: var(--color-surface);
      border-bottom: 1px solid var(--color-card-border);
      padding: var(--space-16) 0;
      position: sticky;
      top: 0;
      z-index: 200;
      box-shadow: var(--shadow-sm);
    }

    .navbar-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: var(--space-16);
    }

    .navbar-brand {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
      color: var(--color-primary);
      text-decoration: none;
      transition: color var(--duration-fast) var(--ease-standard);
    }

    .navbar-brand:hover {
      color: var(--color-primary-hover);
    }

    .navbar-toggle {
      display: none;
      width: 44px;
      height: 44px;
      background: var(--color-secondary);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-base);
      cursor: pointer;
      position: relative;
    }

    .hamburger {
      display: block;
      width: 20px;
      height: 2px;
      background: var(--color-text);
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: all var(--duration-fast) var(--ease-standard);
    }

    .hamburger::before,
    .hamburger::after {
      content: '';
      display: block;
      width: 20px;
      height: 2px;
      background: var(--color-text);
      position: absolute;
      left: 0;
      transition: all var(--duration-fast) var(--ease-standard);
    }

    .hamburger::before {
      top: -6px;
    }

    .hamburger::after {
      bottom: -6px;
    }

    .navbar-menu {
      display: flex;
      align-items: center;
      gap: var(--space-24);
    }

    .navbar-link {
      color: var(--color-text);
      text-decoration: none;
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-medium);
      padding: var(--space-8) var(--space-12);
      border-radius: var(--radius-base);
      transition: all var(--duration-fast) var(--ease-standard);
      position: relative;
    }

    .navbar-link:hover {
      color: var(--color-primary);
      background: var(--color-secondary);
    }

    .navbar-link.active {
      color: var(--color-primary);
      font-weight: var(--font-weight-semibold);
    }

    .navbar-link.active::after {
      content: '';
      position: absolute;
      bottom: -16px;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--color-primary);
    }

    /* ============================================
   PAGE LAYOUT SYSTEM
   ============================================ */
    .page {
      min-height: 100vh;
      padding-top: var(--space-32);
      padding-bottom: var(--space-32);
    }

    .page-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: var(--space-32) var(--space-16);
    }

    .page-title {
      font-size: var(--font-size-3xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-text);
      margin-bottom: var(--space-32);
      text-align: center;
    }

    .effective-date {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      text-align: center;
      margin-bottom: var(--space-32);
    }

    .content-section {
      background: var(--color-surface);
      border: 1px solid var(--color-card-border);
      border-radius: var(--radius-lg);
      padding: var(--space-24);
      box-shadow: var(--shadow-sm);
    }

    .content-section .section {
      margin-bottom: var(--space-32);
    }

    .content-section .section:last-of-type {
      margin-bottom: var(--space-24);
    }

    .content-section .section-title {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text);
      margin-bottom: var(--space-16);
    }

    .content-section h2 {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text);
      margin-top: var(--space-24);
      margin-bottom: var(--space-16);
    }

    .content-section h2:first-child {
      margin-top: 0;
    }

    .content-section h3 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text);
      margin-top: var(--space-20);
      margin-bottom: var(--space-12);
    }

    .content-section p {
      font-size: var(--font-size-base);
      color: var(--color-text);
      line-height: var(--line-height-normal);
      margin-bottom: var(--space-16);
    }

    .content-section ul,
    .content-section ol {
      margin-left: var(--space-24);
      margin-bottom: var(--space-16);
      padding-left: var(--space-8);
    }

    .content-section li {
      font-size: var(--font-size-base);
      color: var(--color-text);
      margin-bottom: var(--space-12);
      line-height: var(--line-height-normal);
    }

    .content-section li:last-child {
      margin-bottom: 0;
    }

    .content-section a {
      color: var(--color-primary);
      text-decoration: underline;
    }

    .content-section a:hover {
      color: var(--color-primary-hover);
    }

    .content-section strong {
      font-weight: var(--font-weight-semibold);
      color: var(--color-text);
    }

    /* ============================================
   CONTACT FORM PAGE STYLING
   ============================================ */
    .contact-intro {
      text-align: center;
      font-size: var(--font-size-lg);
      color: var(--color-text);
      margin-bottom: var(--space-32);
    }

    .contact-form-container {
      max-width: 600px;
      margin: 0 auto var(--space-32) auto;
    }

    .contact-form-page .form-group {
      margin-bottom: var(--space-20);
    }

    .contact-form-page .form-label {
      display: block;
      margin-bottom: var(--space-8);
      font-weight: var(--font-weight-medium);
      font-size: var(--font-size-base);
      color: var(--color-text);
    }

    .contact-form-page .form-control {
      width: 100%;
      padding: var(--space-12);
      font-size: var(--font-size-base);
      color: var(--color-text);
      background-color: var(--color-background);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-base);
      transition: border-color var(--duration-fast) var(--ease-standard),
        box-shadow var(--duration-fast) var(--ease-standard);
    }

    .contact-form-page .form-control:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: var(--focus-ring);
    }

    .contact-form-page .btn {
      width: 100%;
      padding: var(--space-12) var(--space-24);
    }

    .contact-form-page .form-control:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: var(--focus-ring);
    }

    .contact-form-page input.form-control,
    .contact-form-page textarea.form-control {
      font-family: var(--font-family-base);
    }

    /* Contact form message styling */
    #contactFormMessage .alert {
      white-space: pre-line;
      line-height: 1.6;
    }

    .btn-submit {
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      padding: var(--space-12) var(--space-24);
      border: none;
      border-radius: var(--radius-base);
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-standard);
      width: 100%;
    }

    .btn-submit:hover {
      background: var(--color-primary-hover);
    }

    .btn-submit:active {
      background: var(--color-primary-active);
    }

    .btn-submit:focus-visible {
      outline: none;
      box-shadow: var(--focus-ring);
    }

    .btn-submit:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .contact-email {
      text-align: center;
      margin-bottom: var(--space-32);
    }

    .contact-email h3 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-12);
    }

    .contact-email a {
      color: var(--color-primary);
      text-decoration: underline;
      font-size: var(--font-size-base);
    }

    .contact-email a:hover {
      color: var(--color-primary-hover);
    }

    /* ============================================
   DISCLAIMER NOTICE BOX
   ============================================ */
    .disclaimer-notice {
      background: rgba(var(--color-red-500-rgb), 0.1);
      border: 1px solid var(--color-red-500);
      color: var(--color-red-500);
      padding: var(--space-20);
      border-radius: var(--radius-lg);
      margin-top: var(--space-32);
      font-size: var(--font-size-base);
      line-height: var(--line-height-normal);
    }

    /* ============================================
   RELATED LINKS SECTION
   ============================================ */
    .related-links {
      margin-top: var(--space-32);
      padding-top: var(--space-24);
      border-top: 1px solid var(--color-card-border);
    }

    .related-links h3 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-16);
      color: var(--color-text);
    }

    .link-tags {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-12);
    }

    .tag-link {
      display: inline-flex;
      align-items: center;
      padding: var(--space-8) var(--space-16);
      background: var(--color-secondary);
      color: var(--color-text);
      text-decoration: none;
      border-radius: var(--radius-full);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      transition: all var(--duration-fast) var(--ease-standard);
      border: 1px solid var(--color-border);
    }

    .tag-link:hover {
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      border-color: var(--color-primary);
    }

    /* ============================================
   FEATURE & BENEFIT LISTS
   ============================================ */
    .feature-list,
    .benefit-list {
      list-style: none;
      padding-left: 0;
      margin-left: 0;
    }

    .feature-list li,
    .benefit-list li {
      padding-left: var(--space-8);
      margin-bottom: var(--space-12);
    }

    .benefit-list li {
      margin-bottom: var(--space-16);
    }

    /* ============================================
   FOOTER STYLING
   ============================================ */
    .footer {
      background: var(--color-surface);
      border-top: 1px solid var(--color-border);
      padding: var(--space-32) 0 var(--space-24) 0;
      margin-top: var(--space-32);
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--space-32);
      margin-bottom: var(--space-24);
    }

    .footer-section h3 {
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-12);
      color: var(--color-text);
    }

    .footer-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-links li {
      margin-bottom: var(--space-8);
    }

    .footer-links a {
      color: var(--color-text-secondary);
      text-decoration: none;
      font-size: var(--font-size-sm);
      transition: color var(--duration-fast) var(--ease-standard);
    }

    .footer-links a:hover {
      color: var(--color-primary);
    }

    .footer-copyright {
      text-align: center;
    }

    .footer-copyright p {
      margin-bottom: var(--space-12);
      color: var(--color-text-secondary);
      font-size: var(--font-size-sm);
    }

    .back-to-top {
      display: inline-flex;
      align-items: center;
      gap: var(--space-4);
      padding: var(--space-8) var(--space-16);
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      border: none;
      border-radius: var(--radius-base);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-standard);
    }

    .back-to-top:hover {
      background: var(--color-primary-hover);
    }

    .footer-disclaimer {
      text-align: center;
      padding-top: var(--space-16);
      border-top: 1px solid var(--color-card-border);
      color: var(--color-text-secondary);
      font-size: var(--font-size-sm);
    }

    /* ============================================
   SOCIAL MEDIA BUZZ FEED
   ============================================ */
    .social-post {
      padding: var(--space-16);
      border-bottom: 1px solid var(--color-card-border);
      transition: background var(--duration-fast) var(--ease-standard);
    }

    .social-post:hover {
      background: var(--color-bg-1);
    }

    .social-post:last-child {
      border-bottom: none;
    }

    .post-header {
      display: flex;
      align-items: flex-start;
      gap: var(--space-12);
      margin-bottom: var(--space-12);
    }

    .post-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--color-primary);
      color: var(--color-btn-primary-text);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: var(--font-weight-bold);
      font-size: var(--font-size-sm);
      flex-shrink: 0;
    }

    .post-author-info {
      flex: 1;
    }

    .post-author {
      font-weight: var(--font-weight-semibold);
      font-size: var(--font-size-base);
      color: var(--color-text);
      margin-bottom: var(--space-2);
    }

    .post-handle {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
    }

    .post-time {
      font-size: var(--font-size-xs);
      color: var(--color-text-secondary);
    }

    .post-content {
      font-size: var(--font-size-base);
      color: var(--color-text);
      line-height: var(--line-height-normal);
      margin-bottom: var(--space-12);
    }

    .post-stats {
      display: flex;
      gap: var(--space-16);
    }

    .post-stat {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
    }

    /* ============================================
   RESPONSIVE STYLES
   ============================================ */
    @media (max-width: 768px) {
      html {
        font-size: 16px;
      }

      .header-content {
        flex-direction: column;
        align-items: flex-start;
      }

      .header-title h1 {
        font-size: var(--font-size-2xl);
      }

      .feeds-grid {
        grid-template-columns: 1fr;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .poll-embed iframe {
        height: 400px;
      }

      .replies {
        margin-left: var(--space-12);
        padding-left: var(--space-12);
      }

      .debug-panel {
        width: calc(100vw - var(--space-32));
        right: var(--space-16);
        left: var(--space-16);
      }

      .modal {
        max-height: 95vh;
      }

      .btn {
        width: 100%;
      }

      .btn--icon {
        width: 44px;
      }

      /* Page Layout Responsive */
      .page-content {
        padding: var(--space-20) var(--space-12);
      }

      .page-title {
        font-size: var(--font-size-2xl);
      }

      .content-section {
        padding: var(--space-20);
      }

      .content-section h2 {
        font-size: var(--font-size-lg);
      }

      .content-section .section-title {
        font-size: var(--font-size-lg);
      }

      /* Navbar Mobile */
      .navbar-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .navbar-menu {
        display: none;
        width: 100%;
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-8);
        margin-top: var(--space-16);
        padding-top: var(--space-16);
        border-top: 1px solid var(--color-card-border);
      }

      .navbar-menu.active {
        display: flex;
      }

      .navbar-link {
        width: 100%;
        padding: var(--space-12);
      }

      .navbar-link.active::after {
        display: none;
      }

      /* Footer Responsive */
      .footer-content {
        grid-template-columns: 1fr;
        gap: var(--space-24);
      }

      .footer-section {
        text-align: center;
      }

      .footer-links {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      /* Contact Form Mobile */
      .contact-form-container {
        padding: 0;
      }

      /* Link Tags Mobile */
      .link-tags {
        justify-content: center;
      }
    }

    /* ============================================
   UTILITY CLASSES
   ============================================ */
    .hidden {
      display: none !important;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }

    .text-center {
      text-align: center;
    }

    .mt-16 {
      margin-top: var(--space-16);
    }

    .mb-16 {
      margin-bottom: var(--space-16);
    }

    /* ============================================
   NOMINEES SECTION
   ============================================ */
    .nominees-section {
      background: var(--color-bg-1);
      border-radius: var(--radius-lg);
      padding: var(--space-24);
      border: 1px solid var(--color-card-border);
      margin-bottom: var(--space-32);
    }

    .nominees-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-24);
      margin-top: var(--space-24);
    }

    .nominee-card {
      background: var(--color-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-card-border);
      padding: var(--space-20);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      transition: all var(--duration-normal) var(--ease-standard);
      box-shadow: var(--shadow-sm);
    }

    .nominee-card:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: var(--shadow-lg);
    }

    .nominee-avatar {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: var(--space-16);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: transform var(--duration-normal) var(--ease-standard);
    }

    .nominee-card:hover .nominee-avatar {
      transform: scale(1.05);
    }

    .nominee-initials {
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-white);
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .nominee-name {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      color: var(--color-text);
      margin-bottom: var(--space-8);
      line-height: var(--line-height-tight);
    }

    .nominee-phone {
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      margin-bottom: var(--space-16);
      font-family: var(--font-family-mono);
    }

    .vote-nominee-btn {
      width: 100%;
      margin-top: auto;
    }

    /* Responsive Grid for Nominees */
    @media (max-width: 768px) and (min-width: 480px) {
      .nominees-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-20);
      }

      .nominee-avatar {
        width: 120px;
        height: 120px;
      }

      .nominee-initials {
        font-size: var(--font-size-3xl);
      }
    }

    @media (max-width: 479px) {
      .nominees-grid {
        grid-template-columns: 1fr;
        gap: var(--space-16);
      }

      .nominee-avatar {
        width: 120px;
        height: 120px;
      }

      .nominee-initials {
        font-size: var(--font-size-3xl);
      }

      .nominee-card {
        padding: var(--space-16);
      }
    }

    @media (max-width: 480px) {
      .poll-embed iframe {
        height: 350px;
      }
    }
  </style>
</head>

<body>
  <!-- ============================================
         NAVIGATION BAR
         ============================================ -->
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="container">
      <div class="navbar-content">
        <a href="#home" class="navbar-brand"> Bigg Boss Voting</a>
        <button class="navbar-toggle" id="navbarToggle" aria-label="Toggle navigation" aria-expanded="false">
          <span class="hamburger"></span>
        </button>
        <div class="navbar-menu" id="navbarMenu">
          <a href="#home" class="navbar-link active" data-page="home">Home</a>
          <a href="#about" class="navbar-link" data-page="about">About Us</a>
          <a href="#contact" class="navbar-link" data-page="contact">Contact Us</a>
          <a href="#privacy" class="navbar-link" data-page="privacy">Privacy Policy</a>
          <a href="#disclaimer" class="navbar-link" data-page="disclaimer">Disclaimer</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- ============================================
         HEADER (Status Bar)
         ============================================ -->
  <header class="header" role="banner">
    <div class="container">
      <div class="header-content">
        <div class="header-title">
          <h1> Bigg Boss 9 Telugu</h1>
        </div>
        <div class="header-actions">
          <div class="connection-status" id="connectionStatus">
            <span class="status-indicator" id="statusIndicator"></span>
            <span id="statusText">Disconnected</span>
          </div>
          <button class="btn btn--secondary btn--sm" id="setupBtn" aria-label="Open setup modal">
             Setup
          </button>
          <button class="btn btn--outline btn--sm" id="debugBtn" aria-label="Toggle debug panel">
             Debug
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- ============================================
         SETUP MODAL
         ============================================ -->
  <div class="modal-overlay hidden" id="setupModal" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
    <div class="modal">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">Supabase Setup</h2>
        <button class="modal-close" id="closeSetupModal" aria-label="Close modal"></button>
      </div>
      <div class="modal-body">
        <div class="instructions">
          <h4> Setup Instructions</h4>
          <ol>
            <li>Go to <a href="https://supabase.com" target="_blank" rel="noopener">supabase.com</a> and create a free
              account</li>
            <li>Create a new project</li>
            <li>Go to Settings  API</li>
            <li>Copy your <strong>Project URL</strong> and <strong>anon/public key</strong></li>
            <li>Run the SQL schema below in SQL Editor</li>
            <li>Paste the credentials here and click Connect</li>
          </ol>
          <details style="margin-top: var(--space-12);">
            <summary style="cursor: pointer; font-weight: var(--font-weight-medium);">View SQL Schema</summary>
            <pre
              style="margin-top: var(--space-8); padding: var(--space-12); background: var(--color-surface); border-radius: var(--radius-sm); overflow-x: auto; font-size: var(--font-size-xs);"><code>-- Create contact_messages table
CREATE TABLE contact_messages (
  id BIGINT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
  name TEXT NOT NULL,
  email TEXT NOT NULL,
  subject TEXT NOT NULL,
  message TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  status TEXT DEFAULT 'new'
);

-- Enable RLS (Row Level Security)
ALTER TABLE contact_messages ENABLE ROW LEVEL SECURITY;

-- Allow public inserts
CREATE POLICY "Allow public inserts" ON contact_messages
  FOR INSERT WITH CHECK (true);

-- Allow public to read their own messages (optional)
CREATE POLICY "Allow public select" ON contact_messages
  FOR SELECT USING (true);

-- Create discussions table
CREATE TABLE discussions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  poll_id TEXT DEFAULT 'biggboss9',
  parent_id UUID REFERENCES discussions(id) ON DELETE CASCADE,
  parent_type TEXT CHECK (parent_type IN ('comment', 'reply')),
  author_name TEXT NOT NULL,
  author_email TEXT NOT NULL,
  text TEXT NOT NULL,
  item_type TEXT NOT NULL CHECK (item_type IN ('comment', 'reply')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create votes table
CREATE TABLE votes (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  discussion_id UUID NOT NULL REFERENCES discussions(id) ON DELETE CASCADE,
  session_id TEXT NOT NULL,
  vote_type TEXT NOT NULL CHECK (vote_type IN ('like', 'dislike')),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(discussion_id, session_id)
);

-- Create indexes
CREATE INDEX idx_discussions_parent ON discussions(parent_id);
CREATE INDEX idx_discussions_poll ON discussions(poll_id);
CREATE INDEX idx_votes_discussion ON votes(discussion_id);

-- Enable Row Level Security
ALTER TABLE discussions ENABLE ROW LEVEL SECURITY;
ALTER TABLE votes ENABLE ROW LEVEL SECURITY;

-- Create policies for public access
CREATE POLICY "Enable read access for all" ON discussions FOR SELECT USING (true);
CREATE POLICY "Enable insert access for all" ON discussions FOR INSERT WITH CHECK (true);
CREATE POLICY "Enable read access for all" ON votes FOR SELECT USING (true);
CREATE POLICY "Enable insert access for all" ON votes FOR INSERT WITH CHECK (true);
CREATE POLICY "Enable delete access for all" ON votes FOR DELETE USING (true);</code></pre>
          </details>
        </div>
        <form id="setupForm">
          <div class="form-group">
            <label class="form-label" for="supabaseUrl">Supabase Project URL</label>
            <input type="url" class="form-control" id="supabaseUrl" placeholder="https://yourproject.supabase.co"
              required aria-required="true">
          </div>
          <div class="form-group">
            <label class="form-label" for="supabaseKey">Supabase Anon Key</label>
            <input type="text" class="form-control" id="supabaseKey"
              placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." required aria-required="true">
          </div>
          <button type="submit" class="btn btn--primary" style="width: 100%;">
             Connect to Supabase
          </button>
        </form>
        <div id="setupMessage"></div>
      </div>
    </div>
  </div>

  <!-- ============================================
         DEBUG PANEL
         ============================================ -->
  <aside class="debug-panel hidden" id="debugPanel" role="complementary" aria-label="Debug logs">
    <div class="debug-header">
      <h3 class="debug-title"> Debug Logs</h3>
      <button class="debug-close" id="closeDebugPanel" aria-label="Close debug panel"></button>
    </div>
    <div class="debug-logs" id="debugLogs">
      <div class="debug-log info">Debug panel initialized...</div>
    </div>
  </aside>

  <!-- ============================================
         MAIN CONTENT
         ============================================ -->
  <main class="main-content" role="main">
    <div class="container">
      <!-- NOMINEES SECTION -->
      <section class="section nominees-section" id="nomineesSection" aria-labelledby="nomineesTitle">
        <h2 class="section-title" id="nomineesTitle"> Nominees - Week 12</h2>
        <p class="section-description">
          Vote for your favorite contestant
        </p>
        <div class="nominees-grid">
          <!-- Contestant 1: Diya Nikhita -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #FF6B6B 0%, #FF8E72 100%);">
              <span class="nominee-initials">DN</span>
            </div>
            <h3 class="nominee-name">Diya Nikhita</h3>
            <p class="nominee-phone">+91 88866 50465</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Diya Nikhita"
              aria-label="Vote for Diya Nikhita">
              Vote
            </button>
          </article>

          <!-- Contestant 2: Sanjana Gairani -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #4ECDC4 0%, #44A08D 100%);">
              <span class="nominee-initials">SG</span>
            </div>
            <h3 class="nominee-name">Sanjana Gairani</h3>
            <p class="nominee-phone">+91 88866 50460</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Sanjana Gairani"
              aria-label="Vote for Sanjana Gairani">
              Vote
            </button>
          </article>

          <!-- Contestant 3: Demon Pavan -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
              <span class="nominee-initials">DP</span>
            </div>
            <h3 class="nominee-name">Demon Pavan</h3>
            <p class="nominee-phone">+91 88866 50451</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Demon Pavan"
              aria-label="Vote for Demon Pavan">
              Vote
            </button>
          </article>

          <!-- Contestant 4: Bharani -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #F093FB 0%, #F5576C 100%);">
              <span class="nominee-initials">B</span>
            </div>
            <h3 class="nominee-name">Bharani</h3>
            <p class="nominee-phone">+91 88866 50450</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Bharani" aria-label="Vote for Bharani">
              Vote
            </button>
          </article>

          <!-- Contestant 5: Suman Shetty -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #4DB8FF 0%, #0099FF 100%);">
              <span class="nominee-initials">SS</span>
            </div>
            <h3 class="nominee-name">Suman Shetty</h3>
            <p class="nominee-phone">+91 888 66 50 463</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Suman Shetty"
              aria-label="Vote for Suman Shetty">
              Vote
            </button>
          </article>

          <!-- Contestant 6: Emmanuel -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #FFB347 0%, #FFA500 100%);">
              <span class="nominee-initials">E</span>
            </div>
            <h3 class="nominee-name">Emmanuel</h3>
            <p class="nominee-phone">+91 88866 50452</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Emmanuel" aria-label="Vote for Emmanuel">
              Vote
            </button>
          </article>

          <!-- Contestant 7: Kalyan Padala -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #95E1D3 0%, #38ADA9 100%);">
              <span class="nominee-initials">KP</span>
            </div>
            <h3 class="nominee-name">Kalyan Padala</h3>
            <p class="nominee-phone">+91 88866 50455</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Kalyan Padala"
              aria-label="Vote for Kalyan Padala">
              Vote
            </button>
          </article>

          <!-- Contestant 8: Thanuja Puttasswamy -->
          <article class="nominee-card">
            <div class="nominee-avatar" style="background: linear-gradient(135deg, #E0C3FC 0%, #8EC5FC 100%);">
              <span class="nominee-initials">TP</span>
            </div>
            <h3 class="nominee-name">Thanuja Puttasswamy</h3>
            <p class="nominee-phone">+91 888 66 50 464</p>
            <button class="btn btn--primary vote-nominee-btn" data-contestant="Thanuja Puttasswamy"
              aria-label="Vote for Thanuja Puttasswamy">
              Vote
            </button>
          </article>
        </div>
      </section>
      <!-- VOTING SECTION 1 -->
      <section class="section" id="votingSection1" aria-labelledby="votingTitle1">
        <div class="section-header">
          <h2 class="section-title" id="votingTitle1"> Vote for Your Favorite Contestant</h2>
          <span class="subtitle">Week 12 Voting</span>
        </div>
        <div class="poll-container">
          <p class="poll-instruction">Select your favorite and vote now</p>
          <div class="strawpoll-embed" id="strawpoll_3RnYXoWWQye"
            style="height: 864px; max-width: 640px; width: 100%; margin: 0 auto; display: flex; flex-direction: column;">
            <iframe title="StrawPoll Embed" id="strawpoll_iframe_3RnYXoWWQye"
              src="https://strawpoll.com/embed/3RnYXoWWQye"
              style="position: static; visibility: visible; display: block; width: 100%; flex-grow: 1;" frameborder="0"
              allowfullscreen allowtransparency>Loading...</iframe>
            <script async src="https://cdn.strawpoll.com/dist/widgets.js" charset="utf-8"></script>
          </div>
        </div>
      </section>

      <!-- <section class="section" id="votingSection1" aria-labelledby="votingTitle1">
        <h2 class="section-title" id="feedsTitle"> Vote for Your Favorite Contestant</h2>
        <p class="section-description">
          Week 12 Voting </p>
        <div class="feeds-grid">
          <article class="feed-card">
            <div class="feed-header">
              <span style="font-size: var(--font-size-2xl);"></span>
              <h3>Vote for this week's contestant</h3>
            </div>
            <div class="poll-container">
              <p class="poll-instruction">Select your favorite and vote now</p>
              <div class="strawpoll-embed" id="strawpoll_3RnYXoWWQye"
                style="height: 864px; max-width: 640px; width: 100%; margin: 0 auto; display: flex; flex-direction: column;">
                <iframe title="StrawPoll Embed" id="strawpoll_iframe_3RnYXoWWQye"
                  src="https://strawpoll.com/embed/3RnYXoWWQye"
                  style="position: static; visibility: visible; display: block; width: 100%; flex-grow: 1;"
                  frameborder="0" allowfullscreen allowtransparency>Loading...</iframe>
                <script async src="https://cdn.strawpoll.com/dist/widgets.js" charset="utf-8"></script>
              </div>
            </div>
          </article>

          <article class="feed-card">
            <div class="feed-header">
              <span style="font-size: var(--font-size-2xl);"></span>
              <h3>Vote your favorite Top 5 contestant</h3>
            </div>
            <div class="poll-container">
              <p class="poll-instruction">Select your favorite and vote now</p>
              <div class="poll-embed">
                <iframe src="https://strawpoll.com/embed/polls/3RnYXoWWQye"
                  title="Bigg Boss 9 Telugu Voting Poll - Week 12" loading="lazy"></iframe>
              </div>
            </div>
          </article>
        </div>
      </section> -->


      <!-- CONTESTANT FEEDS SECTION -->
      <section class="section" id="feedsSection" aria-labelledby="feedsTitle">
        <h2 class="section-title" id="feedsTitle"> Contestant Social Feeds</h2>
        <p class="section-description">
          Stay updated with the latest posts from your favorite contestants on Instagram and Twitter/X.
        </p>
        <div class="feeds-grid">
          <!-- Instagram Feed -->
          <article class="feed-card">
            <div class="feed-header">
              <span style="font-size: var(--font-size-2xl);"></span>
              <h3>Instagram Feed</h3>
            </div>
            <div class="feed-content">
              <script src="https://static.elfsight.com/platform/platform.js" data-use-service-core defer></script>
              <div style="z-index: 0;" class="elfsight-app-e4a4ef6e-8898-4021-a7f8-7239a8b0d2f2" data-elfsight-app-lazy>
              </div>
            </div>
          </article>

          <!-- Twitter/X Feed -->
          <article class="feed-card">
            <div class="feed-header">
              <span style="font-size: var(--font-size-2xl);"></span>
              <h3>Twitter/X Feed</h3>
            </div>
            <div class="feed-content">
              <div class="elfsight-app-a04c91ca-8a4c-4f6d-b571-b7ba32a29f4e" data-elfsight-app-lazy></div>
            </div>
          </article>
        </div>
      </section>

      <!-- VOTING SECTION 3 - Top 5 Ranking -->
      <!-- <section class="section" id="votingSection3" aria-labelledby="votingTitle3">
        <div class="section-header">
          <h2 class="section-title" id="votingTitle3"> Place Your Top 5</h2>
          <span class="subtitle">Rank your favorite 5 contestants</span>
        </div>
        <div class="poll-container">
          <p class="poll-instruction">Select your top 5 favorites in order</p>
          <div class="poll-embed">
            <iframe src="https://strawpoll.com/embed/polls/NMnQBXAQAg6" title="Bigg Boss 9 Telugu Top 5 Ranking"
              loading="lazy"></iframe>
          </div>
        </div>
      </section> -->

      <!-- SOCIAL MEDIA BUZZ SECTION -->
      <section class="section" id="socialMediaBuzzSection" aria-labelledby="socialMediaBuzzTitle">
        <h2 class="section-title" id="socialMediaBuzzTitle"> Social Media Buzz</h2>
        <p class="section-description">
          What people are saying about the contestants
        </p>
        <div class="card">
          <div class="card-body">
            <div style="z-index: 0;" class="elfsight-app-579d2a62-2742-4aae-9223-2bb12180295b" data-elfsight-app-lazy>
            </div>
            <div style="
                background: #ffffff;
                margin-top: -97px;
                left: 20px;
                z-index: 9999;    /* top */
                padding: 10px;
                border-radius: 6px;
                width: 90%;
                height: 40px;
            "></div>
            <!-- <div class="social-buzz-feed" id="socialBuzzFeed"></div> -->
          </div>
        </div>
      </section>

      <!-- LIVE DISCUSSIONS SECTION -->
      <section class="section discussions-section" id="discussionsSection" aria-labelledby="discussionsTitle">
        <h2 class="section-title" id="discussionsTitle"> Live Discussions</h2>
        <p class="section-description">
          Join the conversation! Share your thoughts and discuss with other fans in real-time.
        </p>

        <!-- Comment Form -->
        <div class="comment-form">
          <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-16);">Post a Comment</h3>
          <form id="commentForm">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label" for="commentName">Your Name *</label>
                <input type="text" class="form-control" id="commentName" placeholder="Enter your name" required
                  aria-required="true" minlength="2" maxlength="50">
              </div>
              <div class="form-group">
                <label class="form-label" for="commentEmail">Your Email </label>
                <input type="email" class="form-control" id="commentEmail" placeholder="Enter your email"
                  aria-required="true">
              </div>
            </div>
            <div class="form-group">
              <label class="form-label" for="commentText">Your Comment *</label>
              <textarea class="form-control" id="commentText" placeholder="Share your thoughts..." required
                aria-required="true" maxlength="700" rows="4"></textarea>
              <div class="char-counter" id="charCounter">0 / 700</div>
            </div>
            <button type="submit" class="btn btn--primary" id="submitCommentBtn">
               Post Comment
            </button>
          </form>
          <div id="commentFormMessage"></div>
        </div>

        <!-- Comments List -->
        <div id="commentsContainer">
          <div class="loading" id="commentsLoading">
            <div class="spinner"></div>
            <span>Loading discussions...</span>
          </div>
          <div class="empty-state hidden" id="emptyState">
            <div class="empty-state-icon"></div>
            <h3 class="empty-state-title">No comments yet</h3>
            <p class="empty-state-text">Be the first to start the conversation!</p>
          </div>
          <div class="comments-list" id="commentsList"></div>
        </div>
      </section>
    </div>
  </main>

  <!-- ============================================
         ABOUT US PAGE
         ============================================ -->
  <div id="about-page" class="page hidden">
    <div class="container">
      <div class="page-content">
        <h1 class="page-title">About Us</h1>
        <div class="content-section">
          <section class="section">
            <h2 class="section-title">Our Mission</h2>
            <p>Welcome to the ultimate Bigg Boss 9 Telugu voting platform! We are your one-stop destination for
              supporting your favorite contestants and staying connected with the show.</p>
            <p>Our mission is to provide fans with a seamless and engaging platform to vote for their favorite Bigg Boss
              contestants. We believe in the power of community engagement and aim to bring fans closer to the action.
            </p>
          </section>

          <section class="section">
            <h2 class="section-title">Here's what you get</h2>
            <ul class="feature-list">
              <li> Real-time voting polls</li>
              <li> Live social media feeds from contestants</li>
              <li> Interactive discussion forums</li>
              <li> Up-to-date contestant information</li>
              <li> Community engagement features</li>
              <li> Mobile-friendly interface</li>
            </ul>
          </section>

          <section class="section">
            <h2 class="section-title">Why Choose Us?</h2>
            <ul class="benefit-list">
              <li><strong>Fast &amp; Reliable:</strong> Our platform ensures your votes are counted accurately and
                quickly</li>
              <li><strong>User-Friendly:</strong> Simple, intuitive interface designed for all age groups</li>
              <li><strong>Secure:</strong> Your data and votes are protected with industry-standard security</li>
              <li><strong>Community-Driven:</strong> Join thousands of fans in lively discussions</li>
              <li><strong>Always Updated:</strong> Latest news, feeds, and voting information</li>
            </ul>
          </section>

          <div class="related-links">
            <h3>Related Pages</h3>
            <div class="link-tags">
              <a href="#home" class="tag-link">Home</a>
              <a href="#contact" class="tag-link">Contact Us</a>
              <a href="#privacy" class="tag-link">Privacy Policy</a>
              <a href="#disclaimer" class="tag-link">Disclaimer</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ============================================
         CONTACT US PAGE
         ============================================ -->
  <div id="contact-page" class="page hidden">
    <div class="container">
      <div class="page-content">
        <h1 class="page-title">Contact Us</h1>
        <div class="content-section">
          <section class="section">
            <p class="contact-intro">We'd love to hear from you! Whether you have questions, feedback, or suggestions,
              feel free to reach out to us.</p>
            <div class="contact-form-container">
              <form id="contactForm" class="contact-form-page">
                <div class="form-group">
                  <label class="form-label" for="contactName">Your Name * </label>
                  <input type="text" class="form-control" id="contactName" required minlength="2" maxlength="50"
                    placeholder="Enter your full name" aria-label="Your Name" aria-required="true">
                </div>
                <div class="form-group">
                  <label class="form-label" for="contactEmail">Your Email * </label>
                  <input type="email" class="form-control" id="contactEmail" required
                    placeholder="your.email@example.com" aria-label="Your Email" aria-required="true">
                </div>
                <div class="form-group">
                  <label class="form-label" for="contactSubject">Subject * </label>
                  <input type="text" class="form-control" id="contactSubject" required minlength="5" maxlength="100"
                    placeholder="Brief subject of your message" aria-label="Subject" aria-required="true">
                </div>
                <div class="form-group">
                  <label class="form-label" for="contactMessage">Your Message (Optional)</label>
                  <textarea class="form-control" id="contactMessage" rows="6" minlength="10" maxlength="1000"
                    placeholder="Tell us more about your inquiry..." aria-label="Your Message"></textarea>
                  <div class="char-counter" id="contactCharCounter"
                    style="margin-top: var(--space-4); text-align: right; font-size: var(--font-size-xs); color: var(--color-text-secondary);">
                    0 / 1000</div>
                </div>
                <button type="submit" class="btn btn--primary btn-submit">Send Message</button>
              </form>
              <div id="contactFormMessage" style="margin-top: var(--space-16);"></div>
            </div>
          </section>
          <section class="section">
            <div class="contact-email">
              <h3>Email Us Directly</h3>
              <p> <a href="mailto:contactus@biggbossvotingtelugu.in">contactus@biggbossvotingtelugu.in</a></p>
            </div>
          </section>
          <div class="related-links">
            <h3>Related Pages</h3>
            <div class="link-tags">
              <a href="#home" class="tag-link">Home</a>
              <a href="#about" class="tag-link">About Us</a>
              <a href="#privacy" class="tag-link">Privacy Policy</a>
              <a href="#disclaimer" class="tag-link">Disclaimer</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ============================================
         PRIVACY POLICY PAGE
         ============================================ -->
  <div id="privacy-page" class="page hidden">
    <div class="container">
      <div class="page-content">
        <h1 class="page-title">Privacy Policy</h1>
        <p class="effective-date"><strong>Effective Date:</strong> May 29, 2025</p>
        <div class="content-section">
          <section class="section">
            <h2 class="section-title">1. Introduction</h2>
            <p>This Privacy Policy explains how Bigg Boss Voting Telugu collects, uses, and protects your personal
              information when you use our voting platform. We are committed to protecting your privacy and ensuring the
              security of your data.</p>
          </section>
          <section class="section">
            <h2 class="section-title">2. Information We Collect</h2>
            <p>We collect the following types of information:</p>
            <ul>
              <li><strong>Personal Information:</strong> Name, email address provided when posting comments or voting
              </li>
              <li><strong>Usage Data:</strong> Browser type, device information, pages visited, time spent on site</li>
              <li><strong>Voting Data:</strong> Your votes and preferences for contestants</li>
              <li><strong>Session Data:</strong> Temporary session identifiers to prevent duplicate voting</li>
            </ul>
          </section>
          <section class="section">
            <h2 class="section-title">3. Use of Information</h2>
            <p>We use the collected information for the following purposes:</p>
            <ul>
              <li>To process and count your votes accurately</li>
              <li>To display your comments and engage with the community</li>
              <li>To improve our platform and user experience</li>
              <li>To prevent fraudulent voting and abuse</li>
              <li>To send important updates (if you opt-in)</li>
            </ul>
          </section>
          <section class="section">
            <h2 class="section-title">4. Cookie Policy</h2>
            <p>We use session-based storage to maintain your voting session and preferences. These are temporary and are
              cleared when you close your browser. We do not use persistent tracking cookies.</p>
          </section>
          <section class="section">
            <h2 class="section-title">5. Third-Party Services</h2>
            <p>Our platform integrates with third-party services including:</p>
            <ul>
              <li><strong>Supabase:</strong> For data storage and real-time features</li>
              <li><strong>Elfsight:</strong> For social media feed widgets</li>
              <li><strong>StrawPoll:</strong> For voting poll functionality</li>
            </ul>
            <p>These services have their own privacy policies that govern their data collection and usage.</p>
          </section>
          <section class="section">
            <h2 class="section-title">6. External Links</h2>
            <p>Our platform may contain links to external websites. We are not responsible for the privacy practices or
              content of these external sites. Please review their privacy policies before providing any information.
            </p>
          </section>
          <section class="section">
            <h2 class="section-title">7. Data Security</h2>
            <p>We implement industry-standard security measures to protect your personal information from unauthorized
              access, disclosure, or misuse. However, no method of transmission over the internet is 100% secure.</p>
          </section>
          <section class="section">
            <h2 class="section-title">8. Children's Privacy</h2>
            <p>Our platform is intended for users aged 13 and above. We do not knowingly collect personal information
              from children under 13. If you believe we have collected such information, please contact us immediately.
            </p>
          </section>
          <section class="section">
            <h2 class="section-title">9. User Rights</h2>
            <p>You have the right to:</p>
            <ul>
              <li>Access your personal data</li>
              <li>Request correction of inaccurate data</li>
              <li>Request deletion of your data</li>
              <li>Opt-out of communications</li>
              <li>Withdraw consent at any time</li>
            </ul>
          </section>
          <section class="section">
            <h2 class="section-title">10. Changes to Privacy Policy</h2>
            <p>We may update this Privacy Policy from time to time. Changes will be posted on this page with an updated
              effective date. We encourage you to review this policy periodically.</p>
          </section>
          <section class="section">
            <h2 class="section-title">Contact Us</h2>
            <p>If you have any questions about this Privacy Policy, please contact us at: <a
                href="mailto:contactus@biggbossvotingtelugu.in">contactus@biggbossvotingtelugu.in</a></p>
          </section>
          <div class="disclaimer-notice">
            <strong> Disclaimer:</strong> This Privacy Policy is subject to change. We value your privacy and will
            notify you of any significant changes.
          </div>
          <div class="related-links">
            <h3>Related Pages</h3>
            <div class="link-tags">
              <a href="#home" class="tag-link">Home</a>
              <a href="#about" class="tag-link">About Us</a>
              <a href="#contact" class="tag-link">Contact Us</a>
              <a href="#disclaimer" class="tag-link">Disclaimer</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ============================================
         DISCLAIMER PAGE
         ============================================ -->
  <div id="disclaimer-page" class="page hidden">
    <div class="container">
      <div class="page-content">
        <h1 class="page-title">Disclaimer</h1>
        <p class="effective-date"><strong>Effective Date:</strong> May 29, 2025</p>
        <div class="content-section">
          <section class="section">
            <h2 class="section-title">Not Officially Affiliated</h2>
            <p>This website is an independent fan-made platform and is <strong>NOT officially affiliated, endorsed, or
                sponsored</strong> by Bigg Boss, Star Maa, Disney+ Hotstar, Endemol Shine India, or any official
              production company associated with Bigg Boss Telugu Season 9.</p>
            <p>All trademarks, logos, and brand names are the property of their respective owners. The use of these
              names, logos, and brands does not imply endorsement.</p>
          </section>
          <section class="section">
            <h2 class="section-title">Voting Information</h2>
            <p>The voting polls and results displayed on this platform are for <strong>entertainment and community
                engagement purposes only</strong>. They do not represent official voting channels and <strong>will not
                affect the actual outcome</strong> of the Bigg Boss 9 Telugu show.</p>
            <p>For official voting, please use the channels provided by the official broadcasters (Star Maa, Disney+
              Hotstar) or through the official phone numbers announced during the show.</p>
          </section>
          <section class="section">
            <h2 class="section-title">Information Accuracy</h2>
            <p>While we strive to provide accurate and up-to-date information about contestants, voting numbers, and
              show updates, we cannot guarantee the completeness, reliability, or accuracy of all content. Information
              is gathered from publicly available sources and fan communities.</p>
            <p>We are not responsible for any decisions made based on the information provided on this platform.</p>
          </section>
          <section class="section">
            <h2 class="section-title">External Links</h2>
            <p>This website contains links to third-party websites and services (social media feeds, voting polls,
              etc.). We are not responsible for the content, privacy policies, or practices of these external sites.
              Access them at your own risk.</p>
          </section>
          <section class="section">
            <h2 class="section-title">User-Generated Content</h2>
            <p>Comments and discussions posted by users represent their own opinions and do not reflect the views of
              this platform. We are not responsible for user-generated content but reserve the right to moderate or
              remove inappropriate content.</p>
          </section>
          <section class="section">
            <h2 class="section-title">Consent</h2>
            <p>By using this website, you acknowledge that you have read, understood, and agree to this disclaimer. If
              you do not agree with any part of this disclaimer, please do not use this platform.</p>
          </section>
          <section class="section">
            <h2 class="section-title">Updates</h2>
            <p>This disclaimer may be updated from time to time without prior notice. Continued use of the platform
              after changes constitutes acceptance of the updated disclaimer.</p>
          </section>
          <div class="disclaimer-notice">
            <strong> IMPORTANT NOTICE:</strong> This is a fan-made platform for entertainment purposes only. For
            official Bigg Boss 9 Telugu voting, please use the official channels provided by Star Maa and Disney+
            Hotstar.
          </div>
          <div class="related-links">
            <h3>Related Pages</h3>
            <div class="link-tags">
              <a href="#home" class="tag-link">Home</a>
              <a href="#about" class="tag-link">About Us</a>
              <a href="#contact" class="tag-link">Contact Us</a>
              <a href="#privacy" class="tag-link">Privacy Policy</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ============================================
         FOOTER
         ============================================ -->
  <footer class="footer" role="contentinfo">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul class="footer-links">
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            <li><a href="#privacy">Privacy Policy</a></li>
            <li><a href="#disclaimer">Disclaimer</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Related Links</h3>
          <ul class="footer-links">
            <li><a href="#home">Vote Now</a></li>
            <li><a href="#feedsSection">Social Feeds</a></li>
            <li><a href="#discussionsSection">Discussions</a></li>
          </ul>
        </div>
        <div class="footer-section footer-copyright">
          <p>Copyright  2025 Bigg Boss Voting</p>
          <button class="back-to-top" id="backToTop" aria-label="Back to top"> Back to Top</button>
        </div>
      </div>
      <div class="footer-disclaimer">
         This is a fan-made platform. For official voting, use Star Maa or Disney+ Hotstar channels.
      </div>
    </div>
  </footer>

  <script type="module">
    import { CONFIG, validateConfig } from './config.js';
    // Make config available globally
    window.APP_CONFIG = CONFIG;
    window.validateAppConfig = validateConfig;

    /* ============================================
       SOCIAL MEDIA POSTS DATA
       ============================================ */
    const SOCIAL_MEDIA_POSTS = [
      {
        author: "Fan Account",
        handle: "@BBTeluguFans",
        content: "Diya Nikhita is absolutely killing it this week! Amazing performance! #BiggBoss9Telugu #Vote",
        likes: 1234,
        retweets: 567,
        timestamp: "2 hours ago"
      },
      {
        author: "Entertainment Hub",
        handle: "@EntertainmentTalk",
        content: "Sanjana Gairani's strategy this week is brilliant! #BBTelugu",
        likes: 2456,
        retweets: 890,
        timestamp: "3 hours ago"
      },
      {
        author: "Bigg Boss Updates",
        handle: "@BBUpdates",
        content: "Demon Pavan makes shocking revelation in house! #BiggBossContestants",
        likes: 3421,
        retweets: 1234,
        timestamp: "1 hour ago"
      },
      {
        author: "Reality TV News",
        handle: "@RealityTVNews",
        content: "Bharani's performance this episode was the highlight! #BBTelugu #Entertainment",
        likes: 1890,
        retweets: 654,
        timestamp: "45 mins ago"
      },
      {
        author: "Contestant News",
        handle: "@ContestantNews",
        content: "Suman Shetty brings humor and entertainment to the house daily! #BiggBoss9Telugu",
        likes: 2100,
        retweets: 745,
        timestamp: "30 mins ago"
      },
      {
        author: "TV Entertainment",
        handle: "@TVEntertainment",
        content: "Emmanuel's gameplay is getting interesting! Vote now #BiggBossVoting",
        likes: 1567,
        retweets: 432,
        timestamp: "1 hour ago"
      },
      {
        author: "Fan Engagement",
        handle: "@FanEngagement",
        content: "Kalyan Padala deserves more screen time! #BiggBoss9Telugu #Vote",
        likes: 2234,
        retweets: 823,
        timestamp: "45 mins ago"
      },
      {
        author: "Show Updates",
        handle: "@ShowUpdates",
        content: "Thanuja Puttasswamy's journey this season has been amazing! #BBTelugu",
        likes: 1456,
        retweets: 567,
        timestamp: "2 hours ago"
      }
    ];

    /* ============================================
       APPLICATION STATE & CONSTANTS
       ============================================ */
    const APP_STATE = {
      supabase: null,
      sessionId: null,
      discussions: [],
      votes: [],
      subscriptions: [],
      isConnected: false,
      MAX_COMMENTS: 50,
      MAX_REPLY_DEPTH: 10,
      CHAR_LIMIT: 700,
      POLL_ID: 'biggboss9',
      WEEK_NUMBER: CONFIG.weekNumber
    };

    /* ============================================
       DEBUG UTILITIES
       ============================================ */
    function debugLog(message, type = 'info') {
      const debugLogs = document.getElementById('debugLogs');
      if (!debugLogs) return;

      const logEntry = document.createElement('div');
      logEntry.className = `debug-log ${type}`;
      const timestamp = new Date().toLocaleTimeString();
      logEntry.textContent = `[${timestamp}] ${message}`;

      debugLogs.appendChild(logEntry);
      debugLogs.scrollTop = debugLogs.scrollHeight;

      // Keep only last 100 logs
      const logs = debugLogs.querySelectorAll('.debug-log');
      if (logs.length > 100) {
        logs[0].remove();
      }
    }

    /* ============================================
       SESSION MANAGEMENT
       ============================================ */
    function generateSessionId() {
      return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    }

    function getSessionId() {
      if (!APP_STATE.sessionId) {
        APP_STATE.sessionId = generateSessionId();
        debugLog(`Generated new session ID: ${APP_STATE.sessionId}`, 'info');
      }
      return APP_STATE.sessionId;
    }

    /* ============================================
       HTML ESCAPING FOR XSS PROTECTION
       ============================================ */
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    /* ============================================
       TIME FORMATTING
       ============================================ */
    function formatRelativeTime(dateString) {
      const date = new Date(dateString);
      const now = new Date();
      const seconds = Math.floor((now - date) / 1000);

      if (seconds < 60) return 'just now';
      if (seconds < 3600) return `${Math.floor(seconds / 60)} mins ago`;
      if (seconds < 86400) return `${Math.floor(seconds / 3600)} hours ago`;
      if (seconds < 604800) return `${Math.floor(seconds / 86400)} days ago`;

      return date.toLocaleDateString();
    }

    /* ============================================
       UI STATE MANAGEMENT
       ============================================ */
    function updateConnectionStatus(connected, message = '') {
      const statusIndicator = document.getElementById('statusIndicator');
      const statusText = document.getElementById('statusText');

      APP_STATE.isConnected = connected;

      if (connected) {
        statusIndicator.classList.add('connected');
        statusText.textContent = message || 'Connected';
        debugLog('Connection status: Connected', 'success');
      } else {
        statusIndicator.classList.remove('connected');
        statusText.textContent = message || 'Disconnected';
        debugLog('Connection status: Disconnected', 'warning');
      }
    }

    function showMessage(containerId, message, type = 'info', duration = 5000) {
      const container = document.getElementById(containerId);
      if (!container) return;

      const alert = document.createElement('div');
      alert.className = `alert alert-${type}`;
      alert.textContent = message;

      container.innerHTML = '';
      container.appendChild(alert);

      if (duration > 0) {
        setTimeout(() => {
          alert.style.animation = 'fadeOut 0.3s ease-out';
          setTimeout(() => alert.remove(), 300);
        }, duration);
      }
    }

    /* ============================================
       GLOBAL SUPABASE VARIABLES - PURE FETCH API
       ============================================ */
    let supabaseUrl = '';
    let supabaseKey = '';

    async function connectToSupabase(url, key) {
      try {
        debugLog('Attempting to connect to Supabase...', 'info');

        // Test connection with native fetch
        const response = await fetch(`${url}/rest/v1/`, {
          method: 'GET',
          headers: {
            'apikey': key,
            'Authorization': `Bearer ${key}`
          }
        });

        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }

        // Save credentials
        supabaseUrl = url;
        supabaseKey = key;
        APP_STATE.supabase = { url, key }; // Store as simple object

        updateConnectionStatus(true, 'Connected');
        debugLog('Successfully connected to Supabase', 'success');

        // Load initial data
        await loadDiscussions();

        // Start polling for updates
        startPolling();

        return { success: true };
      } catch (error) {
        debugLog(`Connection failed: ${error.message}`, 'error');
        return { success: false, error: error.message };
      }
    }

    /* ============================================
       POLLING (Replaces real-time subscriptions)
       ============================================ */
    let pollingInterval = null;

    function startPolling() {
      // Poll every 5 seconds for new data
      if (pollingInterval) {
        clearInterval(pollingInterval);
      }

      pollingInterval = setInterval(async () => {
        if (supabaseUrl && supabaseKey && APP_STATE.isConnected) {
          await loadDiscussions();
        }
      }, 30000);

      debugLog('Started polling for updates (every 5s)', 'info');
    }

    function stopPolling() {
      if (pollingInterval) {
        clearInterval(pollingInterval);
        pollingInterval = null;
        debugLog('Stopped polling', 'info');
      }
    }

    /* ============================================
       DATA LOADING - PURE FETCH API
       ============================================ */
    async function loadDiscussions() {
      if (!supabaseUrl || !supabaseKey) {
        showEmptyState();
        return;
      }

      try {
        showLoading(true);
        debugLog('Loading discussions...', 'info');

        // Load discussions with native fetch
        const discussionsUrl = `${supabaseUrl}/rest/v1/discussions?poll_id=eq.${APP_STATE.POLL_ID}&order=created_at.desc&limit=${APP_STATE.MAX_COMMENTS}`;
        const discussionsResponse = await fetch(discussionsUrl, {
          method: 'GET',
          headers: {
            'Authorization': `Bearer ${supabaseKey}`,
            'apikey': supabaseKey,
            'Content-Type': 'application/json'
          }
        });

        if (!discussionsResponse.ok) {
          throw new Error(`HTTP ${discussionsResponse.status}`);
        }

        const discussions = await discussionsResponse.json();

        // Load votes with native fetch
        const votesUrl = `${supabaseUrl}/rest/v1/votes?select=*`;
        const votesResponse = await fetch(votesUrl, {
          method: 'GET',
          headers: {
            'Authorization': `Bearer ${supabaseKey}`,
            'apikey': supabaseKey,
            'Content-Type': 'application/json'
          }
        });

        if (!votesResponse.ok) {
          throw new Error(`HTTP ${votesResponse.status}`);
        }

        const votes = await votesResponse.json();

        APP_STATE.discussions = discussions || [];
        APP_STATE.votes = votes || [];

        debugLog(`Loaded ${APP_STATE.discussions.length} discussions and ${APP_STATE.votes.length} votes`, 'success');

        renderComments();
        showLoading(false);
      } catch (error) {
        debugLog(`Failed to load discussions: ${error.message}`, 'error');
        showMessage('commentFormMessage', 'Failed to load discussions. Please check your connection.', 'error');
        showLoading(false);
        showEmptyState();
      }
    }

    /* ============================================
       REAL-TIME EVENT HANDLERS
       ============================================ */
    function handleNewDiscussion(discussion) {
      // Add to state
      APP_STATE.discussions.unshift(discussion);

      // Keep only MAX_COMMENTS
      if (APP_STATE.discussions.length > APP_STATE.MAX_COMMENTS) {
        APP_STATE.discussions = APP_STATE.discussions.slice(0, APP_STATE.MAX_COMMENTS);
      }

      // Re-render comments
      renderComments();
    }

    function handleVoteChange(payload) {
      if (payload.eventType === 'INSERT') {
        APP_STATE.votes.push(payload.new);
      } else if (payload.eventType === 'DELETE') {
        APP_STATE.votes = APP_STATE.votes.filter(v => v.id !== payload.old.id);
      }

      // Update vote counts in UI
      updateVoteCounts();
    }

    /* ============================================
       FORM VALIDATION
       ============================================ */
    function validateContactForm(name, email, subject, message) {
      // Name validation
      if (!name || name.length < 2) {
        return { valid: false, error: ' Name must be at least 2 characters' };
      }
      if (name.length > 50) {
        return { valid: false, error: ' Name must be less than 50 characters' };
      }

      // Email validation
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!email || !emailRegex.test(email)) {
        return { valid: false, error: ' Please enter a valid email address' };
      }

      // Subject validation
      if (!subject || subject.length < 5) {
        return { valid: false, error: ' Subject must be at least 5 characters' };
      }
      if (subject.length > 100) {
        return { valid: false, error: ' Subject must be less than 100 characters' };
      }

      // Message validation (optional but if provided must be valid)
      if (message && message.length > 0 && message.length < 10) {
        return { valid: false, error: ' Message must be at least 10 characters if provided' };
      }
      if (message && message.length > 1000) {
        return { valid: false, error: ' Message must be less than 1000 characters' };
      }

      return { valid: true };
    }

    /* ============================================
       CONTACT FORM SUBMISSION - PURE FETCH API
       ============================================ */
    async function submitContactForm(name, email, subject, message) {
      if (!supabaseUrl || !supabaseKey) {
        throw new Error('Supabase not configured. Please setup in the modal.');
      }

      try {
        debugLog('Submitting contact form to Supabase...', 'info');

        const contactData = {
          name: name,
          email: email,
          subject: subject,
          message: message || null
        };

        const response = await fetch(`${supabaseUrl}/rest/v1/contact_messages`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${supabaseKey}`,
            'apikey': supabaseKey,
            'Prefer': 'return=minimal'
          },
          body: JSON.stringify(contactData)
        });

        if (!response.ok) {
          const errorData = await response.json().catch(() => ({}));
          throw new Error(errorData.message || `HTTP ${response.status}`);
        }

        debugLog('Contact form submitted successfully to Supabase', 'success');
        return { success: true };
      } catch (error) {
        debugLog(`Failed to submit contact form: ${error.message}`, 'error');
        return { success: false, error: error.message };
      }
    }

    /* ============================================
       COMMENT SUBMISSION - PURE FETCH API
       ============================================ */
    async function submitComment(name, email, text, parentId = null, parentType = null) {
      if (!supabaseUrl || !supabaseKey) {
        showMessage('commentFormMessage', 'Please connect to Supabase first', 'error');
        return { success: false, error: 'Not connected' };
      }

      try {
        debugLog('Submitting comment...', 'info');

        const comment = {
          poll_id: APP_STATE.POLL_ID,
          author_name: name.trim(),
          author_email: email.trim(),
          text: text.trim(),
          item_type: parentId ? 'reply' : 'comment',
          parent_id: parentId,
          parent_type: parentType
        };

        const response = await fetch(`${supabaseUrl}/rest/v1/discussions`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${supabaseKey}`,
            'apikey': supabaseKey,
            'Prefer': 'return=minimal'
          },
          body: JSON.stringify(comment)
        });

        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }

        debugLog('Comment submitted successfully', 'success');
        showMessage('commentFormMessage', ' Comment posted successfully!', 'success', 3000);

        // Reload discussions to show new comment
        await loadDiscussions();

        return { success: true };
      } catch (error) {
        debugLog(`Failed to submit comment: ${error.message}`, 'error');
        showMessage('commentFormMessage', `Failed to post comment: ${error.message}`, 'error');
        return { success: false, error: error.message };
      }
    }

    /* ============================================
       VOTING SYSTEM - PURE FETCH API
       ============================================ */
    async function toggleVote(discussionId, voteType) {
      if (!supabaseUrl || !supabaseKey) return;

      try {
        const sessionId = getSessionId();
        const existingVote = APP_STATE.votes.find(
          v => v.discussion_id === discussionId && v.session_id === sessionId
        );

        if (existingVote) {
          if (existingVote.vote_type === voteType) {
            // Remove vote with native fetch
            const response = await fetch(`${supabaseUrl}/rest/v1/votes?id=eq.${existingVote.id}`, {
              method: 'DELETE',
              headers: {
                'Authorization': `Bearer ${supabaseKey}`,
                'apikey': supabaseKey
              }
            });

            if (!response.ok) throw new Error(`HTTP ${response.status}`);
            debugLog(`Removed ${voteType} vote`, 'info');

            // Remove from local state
            APP_STATE.votes = APP_STATE.votes.filter(v => v.id !== existingVote.id);
            updateVoteCounts();
          } else {
            // Change vote with native fetch
            const response = await fetch(`${supabaseUrl}/rest/v1/votes?id=eq.${existingVote.id}`, {
              method: 'PATCH',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${supabaseKey}`,
                'apikey': supabaseKey
              },
              body: JSON.stringify({ vote_type: voteType })
            });

            if (!response.ok) throw new Error(`HTTP ${response.status}`);
            debugLog(`Changed vote to ${voteType}`, 'info');

            // Update local state
            existingVote.vote_type = voteType;
            updateVoteCounts();
          }
        } else {
          // Add new vote with native fetch
          const response = await fetch(`${supabaseUrl}/rest/v1/votes`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${supabaseKey}`,
              'apikey': supabaseKey,
              'Prefer': 'return=minimal'
            },
            body: JSON.stringify({
              discussion_id: discussionId,
              session_id: sessionId,
              vote_type: voteType
            })
          });

          if (!response.ok) throw new Error(`HTTP ${response.status}`);
          debugLog(`Added ${voteType} vote`, 'success');

          // Reload to get new vote
          await loadDiscussions();
        }
      } catch (error) {
        debugLog(`Vote error: ${error.message}`, 'error');
      }
    }

    function getVoteCounts(discussionId) {
      const discussionVotes = APP_STATE.votes.filter(v => v.discussion_id === discussionId);
      const likes = discussionVotes.filter(v => v.vote_type === 'like').length;
      const dislikes = discussionVotes.filter(v => v.vote_type === 'dislike').length;

      const sessionId = getSessionId();
      const userVote = discussionVotes.find(v => v.session_id === sessionId);

      return { likes, dislikes, userVote: userVote ? userVote.vote_type : null };
    }

    function updateVoteCounts() {
      APP_STATE.discussions.forEach(discussion => {
        const voteCounts = getVoteCounts(discussion.id);

        const likeBtn = document.querySelector(`[data-discussion-id="${discussion.id}"][data-vote-type="like"]`);
        const dislikeBtn = document.querySelector(`[data-discussion-id="${discussion.id}"][data-vote-type="dislike"]`);

        if (likeBtn) {
          likeBtn.querySelector('.vote-count').textContent = voteCounts.likes;
          if (voteCounts.userVote === 'like') {
            likeBtn.classList.add('active');
          } else {
            likeBtn.classList.remove('active');
          }
        }

        if (dislikeBtn) {
          dislikeBtn.querySelector('.vote-count').textContent = voteCounts.dislikes;
          if (voteCounts.userVote === 'dislike') {
            dislikeBtn.classList.add('active');
          } else {
            dislikeBtn.classList.remove('active');
          }
        }
      });
    }

    /* ============================================
       COMMENT RENDERING
       ============================================ */
    function renderComments() {
      const commentsList = document.getElementById('commentsList');
      const emptyState = document.getElementById('emptyState');

      if (!commentsList) return;

      // Get top-level comments
      const topLevelComments = APP_STATE.discussions.filter(d =>
        d.item_type === 'comment' && !d.parent_id
      );

      if (topLevelComments.length === 0) {
        commentsList.innerHTML = '';
        emptyState.classList.remove('hidden');
        return;
      }

      emptyState.classList.add('hidden');
      commentsList.innerHTML = '';

      topLevelComments.forEach(comment => {
        const commentElement = createCommentElement(comment);
        commentsList.appendChild(commentElement);
      });

      debugLog(`Rendered ${topLevelComments.length} comments`, 'info');
    }

    function createCommentElement(comment, depth = 0) {
      const article = document.createElement('article');
      article.className = depth === 0 ? 'comment' : 'reply';
      article.dataset.commentId = comment.id;

      const voteCounts = getVoteCounts(comment.id);
      const initials = comment.author_name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);

      article.innerHTML = `
                <div class="comment-header">
                    <div class="comment-author">
                        <div class="author-avatar" aria-hidden="true">${escapeHtml(initials)}</div>
                        <div class="author-info">
                            <div class="author-name">${escapeHtml(comment.author_name)}</div>
                            <div class="comment-time">${formatRelativeTime(comment.created_at)}</div>
                        </div>
                    </div>
                </div>
                <div class="comment-text">${escapeHtml(comment.text)}</div>
                <div class="comment-actions">
                    <div class="vote-buttons">
                        <button 
                            class="vote-btn ${voteCounts.userVote === 'like' ? 'active' : ''}" 
                            data-discussion-id="${comment.id}" 
                            data-vote-type="like"
                            aria-label="Like this comment"
                        >
                             <span class="vote-count">${voteCounts.likes}</span>
                        </button>
                        <button 
                            class="vote-btn ${voteCounts.userVote === 'dislike' ? 'active' : ''}" 
                            data-discussion-id="${comment.id}" 
                            data-vote-type="dislike"
                            aria-label="Dislike this comment"
                        >
                             <span class="vote-count">${voteCounts.dislikes}</span>
                        </button>
                    </div>
                    ${depth < APP_STATE.MAX_REPLY_DEPTH ? `
                        <button class="reply-btn" data-comment-id="${comment.id}" aria-label="Reply to this comment">
                             Reply
                        </button>
                    ` : ''}
                </div>
            `;

      // Add replies
      const replies = APP_STATE.discussions.filter(d => d.parent_id === comment.id);
      if (replies.length > 0) {
        const repliesContainer = document.createElement('div');
        repliesContainer.className = 'replies';
        repliesContainer.dataset.parentId = comment.id;

        replies.forEach(reply => {
          const replyElement = createCommentElement(reply, depth + 1);
          repliesContainer.appendChild(replyElement);
        });

        article.appendChild(repliesContainer);
        console.log(replies)
        // Add collapse button if there are many replies
        if (replies.length > 1) {
          const collapseBtn = document.createElement('button');
          collapseBtn.className = 'collapse-btn';
          collapseBtn.textContent = ` Show ${replies.length} replies`;
          collapseBtn.dataset.parentId = comment.id;
          article.appendChild(collapseBtn);
        }
      }

      return article;
    }

    /* ============================================
       UI HELPERS
       ============================================ */
    function showLoading(show) {
      const loading = document.getElementById('commentsLoading');
      if (loading) {
        loading.classList.toggle('hidden', !show);
      }
    }

    function showEmptyState() {
      const emptyState = document.getElementById('emptyState');
      const commentsList = document.getElementById('commentsList');

      if (emptyState) emptyState.classList.remove('hidden');
      if (commentsList) commentsList.innerHTML = '';
      showLoading(false);
    }

    /* ============================================
       ROUTING SYSTEM
       ============================================ */
    function showPage(pageName) {
      // Hide home page (main content)
      const mainContent = document.querySelector('.main-content');
      const header = document.querySelector('.header');
      const navbar = document.querySelector('.navbar');
      const footer = document.querySelector('.footer');

      // Hide all pages
      document.querySelectorAll('.page').forEach(page => {
        page.classList.add('hidden');
      });

      // Update navigation active state
      document.querySelectorAll('.navbar-link').forEach(link => {
        link.classList.remove('active');
        if (link.dataset.page === pageName) {
          link.classList.add('active');
        }
      });

      // Show appropriate content
      if (pageName === 'home') {
        mainContent.style.display = 'block';
        header.style.display = 'block';
      } else {
        mainContent.style.display = 'none';
        header.style.display = 'none';
        const targetPage = document.getElementById(`${pageName}-page`);
        if (targetPage) {
          targetPage.classList.remove('hidden');
        }
      }

      // Navbar and footer are always visible
      if (navbar) navbar.style.display = 'block';
      if (footer) footer.style.display = 'block';

      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });

      debugLog(`Navigated to: ${pageName}`, 'info');
    }

    function handleHashChange() {
      const hash = window.location.hash.slice(1) || 'home';
      const validPages = ['home', 'about', 'contact', 'privacy', 'disclaimer'];
      const pageName = validPages.includes(hash) ? hash : 'home';
      showPage(pageName);
    }

    /* ============================================
       SOCIAL MEDIA BUZZ RENDERING
       ============================================ */
    function renderSocialBuzzFeed() {
      const feedContainer = document.getElementById('socialBuzzFeed');
      if (!feedContainer) return;

      feedContainer.innerHTML = '';

      SOCIAL_MEDIA_POSTS.forEach(post => {
        const initials = post.author.split(' ').map(w => w[0]).join('').toUpperCase().slice(0, 2);

        const postElement = document.createElement('div');
        postElement.className = 'social-post';
        postElement.innerHTML = `
                    <div class="post-header">
                        <div class="post-avatar">${escapeHtml(initials)}</div>
                        <div class="post-author-info">
                            <div class="post-author">${escapeHtml(post.author)}</div>
                            <div class="post-handle">${escapeHtml(post.handle)}</div>
                        </div>
                        <div class="post-time">${escapeHtml(post.timestamp)}</div>
                    </div>
                    <div class="post-content">${escapeHtml(post.content)}</div>
                    <div class="post-stats">
                        <div class="post-stat">
                            <span></span>
                            <span>${post.likes.toLocaleString()}</span>
                        </div>
                        <div class="post-stat">
                            <span></span>
                            <span>${post.retweets.toLocaleString()}</span>
                        </div>
                    </div>
                `;

        feedContainer.appendChild(postElement);
      });

      debugLog(`Rendered ${SOCIAL_MEDIA_POSTS.length} social media posts`, 'info');
    }

    /* ============================================
       EVENT LISTENERS
       ============================================ */
    function setupEventListeners() {
      // Setup modal
      const setupBtn = document.getElementById('setupBtn');
      const setupModal = document.getElementById('setupModal');
      const closeSetupModal = document.getElementById('closeSetupModal');
      const setupForm = document.getElementById('setupForm');

      setupBtn?.addEventListener('click', () => {
        setupModal?.classList.remove('hidden');
      });

      closeSetupModal?.addEventListener('click', () => {
        setupModal?.classList.add('hidden');
      });

      setupModal?.addEventListener('click', (e) => {
        if (e.target === setupModal) {
          setupModal.classList.add('hidden');
        }
      });

      setupForm?.addEventListener('submit', async (e) => {
        e.preventDefault();

        const url = document.getElementById('supabaseUrl')?.value;
        const key = document.getElementById('supabaseKey')?.value;

        if (!url || !key) {
          showMessage('setupMessage', 'Please fill in all fields', 'error');
          return;
        }

        showMessage('setupMessage', 'Connecting...', 'info', 0);

        const result = await connectToSupabase(url, key);

        if (result.success) {
          showMessage('setupMessage', ' Connected successfully!', 'success', 3000);
          setTimeout(() => {
            setupModal?.classList.add('hidden');
          }, 2000);
        } else {
          showMessage('setupMessage', ` Connection failed: ${result.error}`, 'error');
        }
      });

      // Debug panel
      const debugBtn = document.getElementById('debugBtn');
      const debugPanel = document.getElementById('debugPanel');
      const closeDebugPanel = document.getElementById('closeDebugPanel');

      debugBtn?.addEventListener('click', () => {
        debugPanel?.classList.toggle('hidden');
      });

      closeDebugPanel?.addEventListener('click', () => {
        debugPanel?.classList.add('hidden');
      });

      // Comment form
      const commentForm = document.getElementById('commentForm');
      const commentText = document.getElementById('commentText');
      const charCounter = document.getElementById('charCounter');

      commentText?.addEventListener('input', () => {
        const length = commentText.value.length;
        const limit = APP_STATE.CHAR_LIMIT;
        charCounter.textContent = `${length} / ${limit}`;

        if (length > limit * 0.9) {
          charCounter.classList.add('warning');
        } else {
          charCounter.classList.remove('warning');
        }

        if (length >= limit) {
          charCounter.classList.add('error');
        } else {
          charCounter.classList.remove('error');
        }
      });

      commentForm?.addEventListener('submit', async (e) => {
        e.preventDefault();

        const name = document.getElementById('commentName')?.value;
        const email = document.getElementById('commentEmail')?.value;
        const text = commentText?.value;

        if (!name || !text) {
          showMessage('commentFormMessage', 'Please fill in all fields', 'error');
          return;
        }

        if (text.length > APP_STATE.CHAR_LIMIT) {
          showMessage('commentFormMessage', `Comment exceeds ${APP_STATE.CHAR_LIMIT} character limit`, 'error');
          return;
        }

        const submitBtn = document.getElementById('submitCommentBtn');
        submitBtn.disabled = true;
        submitBtn.textContent = ' Posting...';

        const result = await submitComment(name, email, text);

        submitBtn.disabled = false;
        submitBtn.textContent = ' Post Comment';

        if (result.success) {
          commentForm.reset();
          charCounter.textContent = '0 / 700';
          charCounter.classList.remove('warning', 'error');
        }
      });

      // Navigation and routing
      window.addEventListener('hashchange', handleHashChange);

      // Mobile menu toggle
      const navbarToggle = document.getElementById('navbarToggle');
      const navbarMenu = document.getElementById('navbarMenu');

      navbarToggle?.addEventListener('click', () => {
        const isExpanded = navbarToggle.getAttribute('aria-expanded') === 'true';
        navbarToggle.setAttribute('aria-expanded', !isExpanded);
        navbarMenu?.classList.toggle('active');
      });

      // Close mobile menu on link click
      document.querySelectorAll('.navbar-link').forEach(link => {
        link.addEventListener('click', () => {
          navbarMenu?.classList.remove('active');
          navbarToggle?.setAttribute('aria-expanded', 'false');
        });
      });

      // Contact form message character counter
      const contactMessage = document.getElementById('contactMessage');
      const contactCharCounter = document.getElementById('contactCharCounter');

      contactMessage?.addEventListener('input', () => {
        const length = contactMessage.value.length;
        const limit = 1000;
        contactCharCounter.textContent = `${length} / ${limit}`;

        if (length > limit * 0.9) {
          contactCharCounter.style.color = 'var(--color-warning)';
          contactCharCounter.style.fontWeight = 'var(--font-weight-medium)';
        } else {
          contactCharCounter.style.color = 'var(--color-text-secondary)';
          contactCharCounter.style.fontWeight = 'var(--font-weight-normal)';
        }

        if (length >= limit) {
          contactCharCounter.style.color = 'var(--color-error)';
          contactCharCounter.style.fontWeight = 'var(--font-weight-bold)';
        } else if (length > limit * 0.9) {
          contactCharCounter.style.color = 'var(--color-warning)';
        }
      });

      // Contact form with Supabase integration
      const contactForm = document.getElementById('contactForm');
      contactForm?.addEventListener('submit', async (e) => {
        e.preventDefault();

        const name = document.getElementById('contactName')?.value?.trim();
        const email = document.getElementById('contactEmail')?.value?.trim();
        const subject = document.getElementById('contactSubject')?.value?.trim();
        const message = document.getElementById('contactMessage')?.value?.trim();

        // Validation
        const validationResult = validateContactForm(name, email, subject, message);
        if (!validationResult.valid) {
          showMessage('contactFormMessage', validationResult.error, 'error');
          return;
        }

        // Check Supabase connection
        if (!supabaseUrl || !supabaseKey) {
          showMessage('contactFormMessage', ' System not configured. Please configure Supabase credentials in the Setup modal.', 'warning');
          return;
        }

        // Disable submit button and show loading state
        const submitBtn = contactForm.querySelector('.btn-submit');
        const originalBtnText = submitBtn.textContent;
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting your message...';
        submitBtn.style.opacity = '0.7';
        submitBtn.style.cursor = 'not-allowed';

        try {
          debugLog(`Submitting contact form: ${name} (${email})`, 'info');

          // Submit to Supabase
          const result = await submitContactForm(name, email, subject, message);

          if (result.success) {
            // Show success message with details
            const timestamp = new Date().toISOString();
            const successMsg = ` Thank you for your message!\nWe'll get back to you shortly at ${email}.\nReference ID: ${timestamp.slice(0, 19).replace('T', ' ')}`;
            showMessage('contactFormMessage', successMsg, 'success', 5000);

            // Clear form
            contactForm.reset();

            debugLog('Contact form submitted successfully', 'success');
          } else {
            throw new Error(result.error || 'Submission failed');
          }
        } catch (error) {
          debugLog(`Contact form submission error: ${error.message}`, 'error');

          // Show appropriate error message
          let errorMsg = ' Error submitting form. Please try again.';
          if (error.message.includes('network') || error.message.includes('fetch')) {
            errorMsg = ' Network error. Please check your connection and try again.';
          } else if (error.message.includes('not configured')) {
            errorMsg = ' System not configured. Please contact administrator.';
          } else if (error.message) {
            errorMsg = ` ${error.message}`;
          }

          showMessage('contactFormMessage', errorMsg, 'error');
        } finally {
          // Re-enable submit button
          submitBtn.disabled = false;
          submitBtn.textContent = originalBtnText;
          submitBtn.style.opacity = '1';
          submitBtn.style.cursor = 'pointer';
        }
      });

      // Back to top button
      const backToTop = document.getElementById('backToTop');
      backToTop?.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });

      // Vote nominee button click handler
      document.addEventListener('click', (e) => {
        if (e.target.closest('.vote-nominee-btn')) {
          e.preventDefault();
          const btn = e.target.closest('.vote-nominee-btn');
          const contestantName = btn.dataset.contestant;

          debugLog(`Vote button clicked for: ${contestantName}`, 'info');

          // Smooth scroll to first voting section
          const votingSection = document.getElementById('votingSection1');
          if (votingSection) {
            votingSection.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });

            // Add visual feedback
            btn.textContent = ' Scrolling...';
            setTimeout(() => {
              btn.textContent = 'Vote';
            }, 1500);
          }
        }
      });

      // Delegated event listeners for dynamic content
      document.addEventListener('click', async (e) => {
        // Vote buttons
        if (e.target.closest('.vote-btn')) {
          const btn = e.target.closest('.vote-btn');
          const discussionId = btn.dataset.discussionId;
          const voteType = btn.dataset.voteType;

          if (discussionId && voteType) {
            await toggleVote(discussionId, voteType);
          }
        }

        // Reply buttons
        if (e.target.closest('.reply-btn')) {
          const btn = e.target.closest('.reply-btn');
          const commentId = btn.dataset.commentId;

          if (commentId) {
            showReplyForm(commentId);
          }
        }

        // Collapse buttons
        if (e.target.closest('.collapse-btn')) {
          const btn = e.target.closest('.collapse-btn');
          const parentId = btn.dataset.parentId;
          const repliesContainer = document.querySelector(`.replies[data-parent-id="${parentId}"]`);

          if (repliesContainer) {
            const isCollapsed = repliesContainer.style.display === 'none';
            repliesContainer.style.display = isCollapsed ? 'flex' : 'none';
            btn.textContent = isCollapsed ? ' Hide replies' : ` Show replies`;
          }
        }
      });
    }

    /* ============================================
       REPLY FORM
       ============================================ */
    function showReplyForm(parentId) {
      // Remove any existing reply forms
      document.querySelectorAll('.reply-form').forEach(form => form.remove());

      const parentComment = document.querySelector(`[data-comment-id="${parentId}"]`);
      if (!parentComment) return;

      const replyForm = document.createElement('div');
      replyForm.className = 'reply-form';
      replyForm.innerHTML = `
                <h4 style="font-size: var(--font-size-base); margin-bottom: var(--space-12);">Write a Reply</h4>
                <form class="reply-form-element">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Your Name *</label>
                            <input type="text" class="form-control reply-name" required minlength="2" maxlength="50">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Your Email </label>
                            <input type="email" class="form-control reply-email">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Your Reply *</label>
                        <textarea class="form-control reply-text" required maxlength="700" rows="3"></textarea>
                        <div class="char-counter reply-char-counter">0 / 700</div>
                    </div>
                    <div style="display: flex; gap: var(--space-8);">
                        <button type="submit" class="btn btn--primary btn--sm"> Post Reply</button>
                        <button type="button" class="btn btn--secondary btn--sm cancel-reply">Cancel</button>
                    </div>
                </form>
            `;

      parentComment.appendChild(replyForm);

      // Character counter for reply
      const replyText = replyForm.querySelector('.reply-text');
      const replyCharCounter = replyForm.querySelector('.reply-char-counter');

      replyText.addEventListener('input', () => {
        const length = replyText.value.length;
        replyCharCounter.textContent = `${length} / 700`;

        if (length > 630) {
          replyCharCounter.classList.add('warning');
        } else {
          replyCharCounter.classList.remove('warning');
        }

        if (length >= 700) {
          replyCharCounter.classList.add('error');
        } else {
          replyCharCounter.classList.remove('error');
        }
      });

      // Cancel button
      replyForm.querySelector('.cancel-reply')?.addEventListener('click', () => {
        replyForm.remove();
      });

      // Submit reply
      replyForm.querySelector('.reply-form-element')?.addEventListener('submit', async (e) => {
        e.preventDefault();

        const name = replyForm.querySelector('.reply-name')?.value;
        const email = replyForm.querySelector('.reply-email')?.value;
        const text = replyText?.value;

        if (!name || !text) return;

        const submitBtn = e.target.querySelector('button[type="submit"]');
        submitBtn.disabled = true;
        submitBtn.textContent = ' Posting...';

        const result = await submitComment(name, email, text, parentId, 'comment');

        if (result.success) {
          replyForm.remove();
        } else {
          submitBtn.disabled = false;
          submitBtn.textContent = ' Post Reply';
        }
      });

      // Focus on first input
      replyForm.querySelector('.reply-name')?.focus();
    }

    /* ============================================
       ENVIRONMENT-AWARE CONFIG INIT
       ============================================ */
    function setupEnvConfig() {
      // 1. Validate config
      validateConfig();
      // 2. Update title, week references, and all spots
      const week = CONFIG.weekNumber;
      document.title = `Bigg Boss 9 Telugu - Week ${week} - Vote & Discuss`;
      // Update week in headers and subtitles
      document.querySelectorAll('.section-title, .subtitle, h1, h2, h3').forEach(el => {
        if (/Week \d+/.test(el.textContent)) {
          el.textContent = el.textContent.replace(/Week \d+/, `Week ${week}`);
        }
      });
      // 3. Nominees rendering
      renderNominees();
      console.log(CONFIG);
      // 4. Polls rendering
      renderConfigPolls();
      // 5. Fill Supabase setup fields
      console.log(CONFIG.supabase);
      populateSetupModal();
    }

    // Renders the dynamic nominees based on CONFIG
    function renderNominees() {
      const nomineesGrid = document.querySelector('.nominees-grid');
      if (!nomineesGrid) return;
      const { contestants } = CONFIG.contestants;
      if (!Array.isArray(contestants) || contestants.length === 0) {
        nomineesGrid.innerHTML = '<div style="padding:32px; color:var(--color-error);text-align:center;">No nominees for this week. Please configure VITE_CONTESTANTS.</div>';
        return;
      }
      nomineesGrid.innerHTML = contestants.map(contestant => `
            <article class="nominee-card">
              <div class="nominee-avatar" style="background: ${contestant.color};">
                <img
                class="nominee-avatar-img"
                  src=${contestant.imageUrl}
                  alt=${contestant.name}
                />
              </div>
              <h3 class="nominee-name">${contestant.name}</h3>
              <p class="nominee-phone">${contestant.phone}</p>
              <button class="btn btn--primary vote-nominee-btn" data-contestant="${contestant.name}" aria-label="Vote for ${contestant.name}">
                Vote
              </button>
            </article>
          `).join('');
    }

    // Renders all polls (StrawPoll embeds) from environment config
    function renderConfigPolls() {
      // 1st poll
      const section1 = document.getElementById('votingSection1');
      if (section1) {
        const poll = section1.querySelector('.strawpoll-embed');
        const pollId = CONFIG.polls.id1;
        console.log(pollId);
        poll.innerHTML = `<iframe src="https://strawpoll.com/embed/${pollId}" title="Voting Poll #1" loading="lazy" style="position: static; visibility: visible; display: block; width: 100%; flex-grow: 1;" frameborder="0" allowfullscreen allowtransparency></iframe>`;
      }
      // 2nd poll
      const section2 = document.getElementById('votingSection2');
      if (section2) {
        const poll = section2.querySelector('.poll-embed');
        const pollId = CONFIG.polls.id2;
        poll.innerHTML = `<iframe src="https://strawpoll.com/embed/${pollId}" title="Voting Poll #2" loading="lazy" width="100%" height="500" style="border:none;border-radius:8px;"></iframe>`;
      }
      // 3rd poll
      const section3 = document.getElementById('votingSection3');
      if (section3) {
        const poll = section3.querySelector('.poll-embed');
        const pollId = CONFIG.polls.id3;
        poll.innerHTML = `<iframe src="https://strawpoll.com/embed/${pollId}" title="Voting Poll #3" loading="lazy" width="100%" height="500" style="border:none;border-radius:8px;"></iframe>`;
      }
    }

    // Fill Supabase setup modal values
    function populateSetupModal() {
      // const urlInput = document.getElementById('supabaseUrl');
      // const keyInput = document.getElementById('supabaseKey');
      // if (!urlInput || !keyInput) return;
      console.log(CONFIG.supabase);
      // if (CONFIG.supabase.url) urlInput.value = CONFIG.supabase.url;
      // if (CONFIG.supabase.key) keyInput.value = CONFIG.supabase.key;
      if (CONFIG.supabase.url && CONFIG.supabase.key) {
        const result = connectToSupabase(CONFIG.supabase.url, CONFIG.supabase.key);
        if (result.success) {
          console.log('Connected to Supabase successfully');
          showEmptyState();
        } else {
          console.error('Failed to connect to Supabase:', result.error);
          showEmptyState();
        }
      }

    }

    // (Optionally: validate contestants shape)
    function validateContestants() {
      const required = ['id', 'name', 'phone', 'initials', 'color'];
      (CONFIG.contestants.contestants || []).forEach((c, idx) => {
        required.forEach(f => { if (!c[f]) console.warn(`Contestant ${idx} missing field: ${f}`) });
      });
    }

    /* ============================================
       INITIALIZATION
       ============================================ */
    async function initializeApp() {
      debugLog('Initializing Bigg Boss 9 Telugu Discussion Platform...', 'info');

      // Setup config from environment first
      setupEnvConfig();

      // Setup all event listeners
      setupEventListeners();

      // Generate session ID
      getSessionId();

      // Render social media buzz feed
      renderSocialBuzzFeed();

      // Handle initial route
      handleHashChange();

      // Show empty state initially
      showEmptyState();

      debugLog('App initialized. Please connect to Supabase to enable discussions.', 'warning');
    }

    // Start the application when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
      initializeApp();
    }
  </script>
</body>

</html>